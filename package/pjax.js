var f=(e,t,r)=>new Promise((o,i)=>{var s=I=>{try{S(r.next(I))}catch(ue){i(ue)}},u=I=>{try{S(r.throw(I))}catch(ue){i(ue)}},S=I=>I.done?o(I.value):Promise.resolve(I.value).then(s,u);S((r=r.apply(e,t)).next())});var T=window.history,F=window.location.origin,Se=Object.getOwnPropertyNames,x=Object.assign,a=Object.create,J=Array.isArray,M=Array.from,Q="";function He(e){let t=a(e);return t.targets=["body"],t.timeout=3e4,t.poll=15,t.schema="pjax",t.async=!0,t.cache=!0,t.reverse=!0,t.limit=50,t.preload=null,t.persist=!1,t.hover=a(null),t.hover.trigger="attribute",t.hover.threshold=250,t.intersect=a(null),t.intersect.rootMargin="0px 0px 0px 0px",t.intersect.threshold=0,t.proximity=a(null),t.proximity.distance=75,t.proximity.threshold=250,t.proximity.throttle=500,t.progress=a(null),t.progress.background="#111",t.progress.height="3px",t.progress.minimum=.8,t.progress.easing="linear",t.progress.speed=300,t.progress.trickle=!0,t.progress.threshold=350,t.progress.trickleSpeed=300,t}var n=He(null),c=a(null),l=a(null),p=a(null),y=a(null),me=new Set;function de(e={}){e.hover!==void 0&&(typeof e.hover!="boolean"?x(n.hover,e.hover):e.hover===!1&&(n.hover=e.hover),delete e.hover),e.intersect!==void 0&&(typeof e.intersect!="boolean"?x(n.intersect,e.intersect):e.intersect===!1&&(n.intersect=e.intersect),delete e.intersect),e.proximity!==void 0&&(typeof e.proximity!="boolean"?x(n.proximity,e.proximity):e.proximity===!1&&(n.proximity=e.proximity),delete e.proximity),e.progress!==void 0&&(typeof e.progress!="boolean"?x(n.progress,e.progress):e.progress===!1&&(n.progress=e.progress),delete e.progress);let t=n.schema===null?"data":`data-${n.schema}`,r=`:not([${t}-disable]):not([href^="#"])`;return l.attrs=new RegExp("^href|"+t+"-("+"hydrate|append|prepend|replace|progress|threshold|position|proximity|hover|history"+")$","i"),l.hydrate=`[${t}-hydrate]`,l.track=`[${t}-track]:not([${t}-track=false])`,l.script=`script:not([${t}-eval=false])`,l.style=`style:not([${t}-eval=false])`,l.styleLink=`link[rel=stylesheet]:not([${t}-eval=false])`,l.href=`a${r}`,n.intersect!==!1&&(l.intersect=`[${t}-intersect]:not([${t}-intersect=false])`,l.interHref=`a${r}:not([${t}-intersect=false])`),n.proximity!==!1&&(l.proximity=`a[${t}-proximity]${r}:not([${t}-proximity=false])`),n.hover!==!1&&(l.hover=n.hover.trigger==="href"?`a${r}:not([${t}-hover=false]):not([${t}-intersect]):not([${t}-proximity])`:`a[${t}-hover]${r}:not([${t}-hover=false]):not([${t}-intersect]):not([${t}-proximity])`),x(n,e)}var je=/^(?:https?:)?\/\//;var qe=/(?:https?:)?\/\/(?:www\.)?/,Ce=/(?:https?:)?\/\/(?:www\.)?([^/]*?)?([/?][^;]*?)?(#[^#]*?)?$/i;var $e=/\b(?:append|prepend)/,Ne=/^(?:application|text)\/(?:x-)?(?:ecma|java)script|text\/javascript$/,De=/^\b(?:true|false)$/i,z=/^[+-]?\d*\.?\d+$/,Fe=/\s+/g;var ge=/\[?[^,'"[\]()\s]+\]?/g,Ve=/\(?\[(['"]?.*['"]?,?)\]\)?/,We=/[xy]:[0-9.]+/,Be=/[xy]|\d*\.?\d+/g;function Xe(){return Math.random().toString(36).slice(2)}function Ke(e=2){return(t,r)=>{let o=t.length;return(o<1||t[o-1].length===e?t.push([r]):t[o-1].push(r))&&t}}function he(e){let t=e.indexOf(">",e.indexOf("<title"))+1,r=e.indexOf("</title",t);return e.slice(t,r)}function v(e,t){if(arguments.length===1)return i=>v(e,i);let r=t.length;if(r===0)return;let o=0;for(;o<r;)e(t[o],o,t),o++}function xe(e){let t=Se(e);return t.length===0?!0:t.every(r=>delete e[r])}var ze=F.replace(qe,Q);function Ot(e){let t=a(null);return v((r,o,i)=>{let s=i.length-1>=o?o-1:o;o%2&&(t[i[s]]=z.test(r)?Number(r):r)},e),t}function ve(e){let t=a(null),r=e.indexOf("#");r>=0&&(t.hash=e.slice(r),e=e.slice(0,r));let o=e.indexOf("?");return o>=0&&(t.params=e.slice(o),e=e.slice(0,o)),t.pathname=e,t}function ye(e){let t=e.indexOf("/");return e.slice(0,t)===F?ve(e.slice(t)):!1}function St(e){let t=a(null);for(let{nodeName:r,nodeValue:o}of e.attributes){if(!l.attrs.test(r))continue;if(r==="href"){let u=Ye(o);t.key=u.pathname+(u.search||""),t.rev=location.pathname+(location.search||""),t.location=Ue(t.key);continue}let i=r.slice(1+r.lastIndexOf("-")),s=o.replace(Fe,Q);Ve.test(s)?t[i]=$e.test(i)?s.match(ge).reduce(Ke(2),[]):s.match(ge):We.test(s)?t[i]=Ot(s.match(Be)):De.test(s)?t[i]=s==="true":z.test(s)?t[i]=Number(s):t[i]=s}return t}function Ye(e){return e.charCodeAt(0)===47?e.charCodeAt(1)!==47?ve(e):(e=e.slice(2),ye(e.startsWith("www.")?e.slice(4):e)):e.charCodeAt(0)===63?ve(location.pathname+e):e.startsWith("http")&&(e.charCodeAt(5)===58||e.charCodeAt(4)===58)?(e=e.replace(je,Q),ye(e.startsWith("www.")?e.slice(4):e)):e.startsWith("www.")?ye(e.slice(4)):!1}function H(e){if(e.charCodeAt(0)===47&&e.charCodeAt(1)!==47){let r=e.indexOf("#");return r!==-1?e.slice(0,r):e}if(e.charCodeAt(0)===63)return location.pathname+e;let t=e.match(Ce);return t!==null?ze!==t[1]?null:t[2]===void 0?"/":t[2]:null}function Ue(e){let t=Ye(e);if(!!t)return t.origin=F,t.hostname=ze,t}function m(e,t){if(e instanceof Element){let i=St(e);return i.type=t||2,i}let r=a(null),o=location.pathname+(location.search||"");return r.key=typeof e=="string"?H(e):o,r.rev=o,r.location=Ue(r.key),r.type=t||2,r}var Ht=new DOMParser;function O(e){return Ht.parseFromString(e,"text/html")}var j=a(null);function g(e,...t){let r=e==="store";r&&t.splice(-1,1,O(t[t.length-1]));let o=!0;return v(i=>{let s=i.apply(null,t);r?s instanceof Document?o=s.documentElement.outerHTML:typeof o!="string"&&(o=s!==!1):o=s!==!1},j[e]||[]),o}function jt(e,t){e in j||(j[e]=[]),j[e].push(t)}function qt(e,t){let r=j[e],o=[];if(r&&t){let i=0,s=r.length;for(;i<s;i++)r[i]!==t&&o.push(r[i])}return o.length?j[e]=o:delete j[e],this}function q(e){e===void 0?(xe(p),xe(y)):typeof e=="string"?(delete y[p[e].uuid],delete p[e]):J(e)&&be(e)}function h(e){let t=a(null);return t.attrs=a(null),t.location=a(null),t.position=a(null),t.key=null,t.type=2,t.title=document.title,t.attrs.cache=n.cache,t.uuid=t.attrs.cache?Xe():null,t.position.x=0,t.position.y=0,e.type===6&&(t.attrs.proximity=n.proximity.distance,t.attrs.threshold=n.proximity.threshold),e.type===4&&(t.attrs.threshold=n.hover.threshold),n.hover!==!1&&(t.attrs.threshold=n.hover.threshold),n.progress!==!1&&(t.attrs.progress=n.progress.threshold),x(t,e)}function Z(e,t){let r=g("store",e,t);if(r===!1)return;switch(e.type){case 4:case 6:case 5:e.type=11;break}let o=typeof r=="string"?r:t;return e.title=he(o),n.cache&&(p[e.key]=e,y[e.uuid]=o),e}function A(e,t){let r=e.key in p?p[e.key]:h(e);return typeof t=="string"?(e.title=he(t),y[r.uuid]=t,x(r,e)):x(r,e)}function Ee(e){let t=a(null);return e=e||T.state.key,t.page=p[e],t.dom=O(y[t.page.uuid]),t}function E(e){return e in p&&"uuid"in p[e]?p[e].uuid in y:!1}function be(e=[]){return Object.getOwnPropertyNames(p).forEach(t=>{e.includes(t)?delete y[p[t].uuid]:delete p[t]})}var b=typeof window<"u"?window:{screen:{},navigator:{}},V=(b.matchMedia||function(){return{matches:!1}}).bind(b),Ct=!1,$t={get passive(){return Ct=!0}},Ge=function(){};b.addEventListener&&b.addEventListener("p",Ge,$t);b.removeEventListener&&b.removeEventListener("p",Ge,!1);var w="PointerEvent"in b,Pe="ontouchstart"in b,Nt="TouchEvent"in b,Dt=Pe||Nt&&V("(any-pointer: coarse)").matches,Dr=(b.navigator.maxTouchPoints||0)>0||Dt,_e=b.navigator.userAgent||"",Ft=V("(pointer: coarse)").matches&&/iPad|Macintosh/.test(_e)&&Math.min(b.screen.width||0,b.screen.height||0)>=768,Fr=(V("(pointer: coarse)").matches||!V("(pointer: fine)").matches&&Pe)&&!/Windows.*Firefox/.test(_e),Vr=V("(any-pointer: fine)").matches||V("(any-hover: hover)").matches||Ft||!Pe;function Y(e,t){if(e instanceof Element){let r=e.closest(t);if(r&&r.tagName==="A")return r}return!1}function Ie(e){if(e.nodeName!=="A")return!1;let t=H(e.href);return(t in p&&"snapshot"in p[t]?p[t].uuid in y:!1)===!1}function Je(e,t){return M(document.body.querySelectorAll(e)).flatMap(r=>r.nodeName!=="A"?M(r.querySelectorAll(t)).filter(Ie):Ie(r)?r:[])}var U=e=>M(document.body.querySelectorAll(e)).filter(Ie);var C=null,G=null,Te=[];function we(e){let{speed:t,easing:r,minimum:o}=n.progress,i=typeof C=="number";e=Ze(e,o,1),C=e===1?null:e;let s=Vt(!i);s.offsetWidth,Bt(u=>{if(s.style.transform=`translate3d(${et(e)}%,0,0)`,s.style.transition=`all ${t}ms ${r}`,e!==1)return setTimeout(u,t);s.style.transition="none",s.style.opacity="1",s.offsetWidth,setTimeout(()=>{s.style.transition=`all ${t}ms ${r}`,s.style.opacity="0",setTimeout(()=>[Wt(),u()],t)},t)})}function Qe(e){let t=C;if(!t)return Le();if(t<1)return typeof e!="number"&&(t>=0&&t<.2?e=.1:t>=.2&&t<.5?e=.04:t>=.5&&t<.8?e=.02:t>=.8&&t<.99?e=.005:e=0),t=Ze(t+e,0,.994),we(t)}function Vt(e){if(G)return G;document.documentElement.classList.add("pload");let t=e?"-100":et(C||0),r=document.createElement("div");return r.id="pprogress",r.style.pointerEvents="none",r.style.background=n.progress.background,r.style.height=n.progress.height,r.style.position="fixed",r.style.zIndex="9999",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.transition="all 0 linear",r.style.transform=`translate3d(${t}%,0,0)`,document.body.appendChild(r),G=r,r}function Wt(){document.documentElement.classList.remove("pload"),document.getElementById("pprogress")&&document.body.removeChild(G),G=null}function Ze(e,t,r){return e<t?t:e>r?r:e}function et(e){return(-1+e)*100}function Bt(e){let t=()=>{let r=Te.shift();r&&r(t)};Te.push(e),Te.length===1&&t()}function Le(){if(!n.progress)return;C||we(0);let e=function(){setTimeout(()=>{!C||(Qe(),e())},n.progress.trickleSpeed)};n.progress.trickle&&e()}function tt(e){if(!(!e&&!C))return Qe(.3+.5*Math.random()),we(1)}var P=a(null);function Xt(e){return new Promise(t=>setTimeout(()=>t(e()),5))}var ot=0;function Kt(e){return f(this,null,function*(){ot=ot+e.length})}var $=a(null);function ee(e){let t=new XMLHttpRequest;return new Promise((r,o)=>{t.open("GET",e,n.async),t.setRequestHeader("X-Brixtol-Pjax","true"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.onloadstart=i=>{P[e]=t},t.onload=i=>{r(t.status===200?t.responseText:!1)},t.onabort=i=>{delete P[e]},t.onloadend=i=>{delete P[e],Kt(t.responseText)},t.onerror=o,t.timeout=n.timeout,t.responseType="text",t.send(null)})}function te(e,t,r){e in $||E(e)||($[e]=setTimeout(t,r))}function nt(e){return e in $?(clearTimeout($[e]),delete $[e]):!0}function it(e){e in P&&(P[e].abort(),console.warn(`@brixtol/pjax: XHR Request was cancelled for url: ${e}`))}function st(e){if(e in P)for(let t in P)e!==t&&(P[t].abort(),console.warn(`@brixtol/pjax: Cancelled pending request: ${t}`))}function Re(e,t=0){return f(this,null,function*(){return e in P&&t<=n.timeout?(n.progress!==!1&&t*5===n.progress.threshold&&Le(),t++,Xt(()=>Re(e,t))):delete P[e]})}function d(e){return f(this,null,function*(){if(e.key in P){console.warn(`@brixtol/pjax: XHR Request is already in transit for: ${e.key}`);return}if(!g("fetch",e))return console.info(`@brixtol/pjax: Request cancelled via dispatched event for: ${e.key}`),!1;try{let t=yield ee(e.key);if(t)return Z(e,t);console.warn(`@brixtol/pjax: Failed to retrive response at: ${e.key}`)}catch(t){delete P[e.key],console.error("@brixtol/pjax: Fetch error:",t)}return!1})}function oe(e){let t=Y(e.target,l.hover);t&&(nt(H(t.href)),at(t))}function W(e){let t=Y(e.target,l.hover);if(!t)return;let r=m(t,4);if(r.key in $)return;if(E(r.key))return re(t);zt(t);let o=h(r),i=o.attrs.threshold||n.hover.threshold;te(r.key,()=>f(this,null,function*(){if(!g("prefetch",t,r))return re(t);(yield d(o))&&re(t)}),i)}function at(e){w?e.addEventListener("pointerenter",W,!1):e.addEventListener("mouseenter",W,!1)}function zt(e){w?(e.addEventListener("pointerout",oe,!1),e.removeEventListener("pointerenter",W,!1)):(e.addEventListener("mouseleave",oe,!1),e.removeEventListener("mouseenter",W,!1))}function re(e){w?(e.removeEventListener("pointerenter",W,!1),e.removeEventListener("pointerout",oe,!1)):(e.removeEventListener("mouseleave",oe,!1),e.removeEventListener("mouseenter",W,!1))}function ne(){!n.hover||c.hover||(v(at,U(l.hover)),c.hover=!0)}function ie(){!c.hover||(v(re,U(l.hover)),c.hover=!1)}var B;function Yt(e){return f(this,null,function*(){if(e.isIntersecting){let t=m(e.target,5);if(!g("prefetch",e.target,t))return B.unobserve(e.target);(yield d(h(t)))?B.unobserve(e.target):(console.warn(`@brixtol/pjax: Prefetch will retry at next intersect for: ${t.key}`),B.observe(e.target))}})}function se(){!n.intersect||c.intersect||(B=new IntersectionObserver(v(Yt),n.intersect),v(B.observe,Je(l.intersect,l.interHref)),c.intersect=!0)}function ae(){!c.intersect||(B.disconnect(),c.intersect=!1)}function Ut(e){return new Promise((t,r)=>{let o=document.createElement("script");o.addEventListener("error",r),o.async=!1,o.text=e.target.text;for(let{nodeName:i,nodeValue:s}of e.target.attributes)o.setAttribute(i,s);document.contains(e.target)?e.target.replaceWith(o):(document.head.append(o),e.external?o.addEventListener("load",()=>o.remove()):o.remove()),e.external?o.addEventListener("load",()=>t()):t()})}function Gt(e){if(!e.hasAttribute("src")&&!e.text)return;let t=e.type?e.type.trim().toLowerCase():"text/javascript",r=Ne.test(t)?1:t==="module"?2:NaN,o=a(null);return o.blocking=!0,o.evaluate=!1,o.external=!1,isNaN(r)||e.noModule&&r===1||(e.src&&(o.external=!0),(r!==1||o.external&&(e.hasAttribute("async")||e.defer))&&(o.blocking=!1),o.evaluate=!0,o.target=e),o}function lt(e){return f(this,null,function*(){try{let t=Ut(e);e.blocking&&(yield t)}catch(t){console.error(t)}})}function pt(e){return f(this,null,function*(){let r=M(e,Gt).filter(o=>o.evaluate).reduce((o,i)=>f(this,null,function*(){return i.external?Promise.all([o,lt(i)]):(yield o,yield lt(i))}),Promise.resolve());yield Promise.race([r])})}function _t({clientX:e,clientY:t},r){return e<=r.right&&e>=r.left&&t<=r.bottom&&t>=r.top}function Jt(e){let t=a(null),r=e.getBoundingClientRect(),o=e.getAttribute(`${n.schema}-proximity`),i=z.test(o)?Number(o):n.proximity.distance;return t.target=e,t.top=r.top-i,t.bottom=r.bottom+i,t.left=r.left-i,t.right=r.right+i,t}function Qt(e){let t=!1;return r=>{if(t)return;t=!0;let o=e.findIndex(i=>_t(r,i));if(o===-1)setTimeout(()=>{t=!1},n.proximity.throttle);else{let{target:i}=e[o],s=h(m(i,6));te(s.key,()=>f(this,null,function*(){if(!g("prefetch",i,s))return stop();(yield d(s))&&(e.splice(o,1),t=!1,e.length===0&&(stop(),console.info("@brixtol/pjax: Proximity observer has disconnected")))}),s.attrs.threshold||n.proximity.threshold)}}}var _;function ce(){if(!n.proximity||c.proximity)return;let e=U(l.proximity).map(Jt);e.length>0&&(_=Qt(e),w?addEventListener("pointermove",_,!1):addEventListener("mousemove",_,!1),c.proximity=!0)}function fe(){!c.proximity||(w?removeEventListener("pointermove",_,!1):removeEventListener("mousemove",_,!1),c.proximity=!1)}function Zt(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING||-1}function er(e){return f(this,null,function*(){let t=M(e.querySelectorAll(l.script));t.sort(Zt),yield pt(t)})}function tr(e){e.querySelectorAll(l.track).forEach(r=>{!r.hasAttribute("id")||me.has(r.id)||(document.body.appendChild(r),me.add(r.id))})}function rr(e,t){let r;if(e.attrs.replace){let u=n.targets.indexOf("body");n.targets.splice(u,1),r=e.attrs.replace.concat(n.targets)}else if(r=n.targets,r.length===1&&r[0]==="body")return document.body.replaceWith(t.body);let o=r.join(","),i=document.body.querySelectorAll(o),s=t.body.querySelectorAll(o);i.forEach((u,S)=>{if(!!u.matches(r[S])&&!!g("render",u,s[S])&&(u.replaceWith(s[S]),e.attrs.append||e.attrs.prepend)){let I=document.createElement("div");return t.childNodes.forEach(I.appendChild),e.attrs.append?u.appendChild(I):u.insertBefore(I,u.firstChild)}}),tr(t.body)}function or(e,t){let r=e.attrs.hydrate.join(","),o=document.body.querySelectorAll(r);if(o.length>0){let i=t.body.querySelectorAll(r);o.forEach((s,u)=>{!g("hydrate",s,i[u])||!i[u]||(s.firstChild.nodeType===Node.TEXT_NODE?s.innerHTML=i[u].innerHTML:s.replaceWith(i[u]))})}e.type=2,A(e),be([e.key])}function L(e){let t=O(y[e.uuid]);return ie(),ae(),fe(),e.type===3?or(e,t):(rr(e,t),scrollTo(e.position.x,e.position.y)),er(t.head),tt(),ne(),se(),ce(),g("load",e),e}var X=a(null),ke=!1;function D(){return X}function Me(){X.y=scrollY,X.x=scrollX,ke||(requestAnimationFrame(D),ke=!0)}function nr(){return ke=!1,X.x=0,X.y=0,X}function mt(){c.scroll||(Me(),addEventListener("scroll",Me,{passive:!0}),c.scroll=!0)}function dt(){!c.scroll||(removeEventListener("scroll",Me,!1),nr(),c.scroll=!1)}function gt(e){e.position=D();let t=a(null);return t.key=e.key,t.rev=e.rev,t.title=e.title,t.uuid=e.uuid,t.position=e.position,t}function ht(){return T.state&&"rev"in T.state?T.state.rev:!1}function le(e){return console.log("REPLACE STATE",e),T.replaceState(gt(e),null,e.key),e}function xt(e){return console.log("PUSH STATE",e),T.pushState(gt(e),null,e.key),e}function yt(t){return f(this,arguments,function*({state:e}){if(console.log("POP STATE",e),E(e.key))return L(p[e.key]);e.type=9;let r=yield d(e);return r?L(r):location.assign(e.key)})}function vt({timeStamp:e}){console.log("PERSIST",e)}function Et(){c.history||(addEventListener("popstate",yt),n.persist&&addEventListener("beforeunload",vt,{capture:!0}),c.history=!0)}function bt(){!c.history||(removeEventListener("popstate",yt),n.persist&&removeEventListener("beforeunload",vt,{capture:!0}),c.history=!1)}function ir(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}function It(e,t){return function r(o){return o.preventDefault(),e.removeEventListener("click",r,!1),typeof t=="object"?(le(t),L(t)):typeof t=="string"?pe(t):location.assign(t)}}function K(e){if(!ir(e))return;let t=Y(e.target,l.href);if(!t)return;let r=m(t,2);!g("visit",e,r)||(E(r.key)?t.addEventListener("click",It(t,A(r)),!1):(st(r.key),d(h(r)),t.addEventListener("click",It(t,r.key),!1)))}function pe(e,t=!1){return f(this,null,function*(){if(t){typeof t.attrs.cache=="string"&&!("hydrate"in t.attrs)&&(t.attrs.cache==="clear"?q():q(t.key));let r=yield d(t);if(r)return L(r)}else if(yield Re(e)){let o=p[e];return xt(o),L(o)}else it(e);return location.assign(e)})}function Tt(){c.hrefs||(w?addEventListener("pointerdown",K,!1):(addEventListener("mousedown",K,!1),addEventListener("touchstart",K,!1)),c.hrefs=!0)}function wt(){!c.hrefs||(w?removeEventListener("pointerdown",K,!1):(removeEventListener("mousedown",K,!1),removeEventListener("touchstart",K,!1)),c.hrefs=!1)}function Rt(){let e=h(m(1)),t=ht(),r=Z(e,document.documentElement.outerHTML);n.reverse&&typeof t=="string"&&(e.rev=t),e.position=D(),g("connected",r),n.preload!==null&&(J(n.preload)?v(o=>f(this,null,function*(){let i=m(o,7);i.key!==o&&(yield d(h(i)))}),n.preload):typeof n.preload=="object"&&e.key in n.preload&&v(o=>f(this,null,function*(){let i=m(o,7);i.key!==o&&(yield d(h(i)))}),n.preload[e.key])),le(r),r.rev!==r.key&&d(h(m(r.rev,8))),removeEventListener("load",Rt)}function At(){Et(),mt(),Tt(),ne(),se(),ce(),addEventListener("load",Rt),console.info("@brixtol/pjax: Connection Established \u26A1")}function kt(){bt(),dt(),wt(),ie(),ae(),fe(),q(),console.warn("@brixtol/pjax: Instance has been disconnected! \u{1F614}")}var ar=!!(window.history.pushState&&window.requestAnimationFrame&&window.addEventListener&&window.DOMParser);function Zo(e={}){de(e),ar?/https?/.test(window.location.protocol)?addEventListener("DOMContentLoaded",At):console.error("@brixtol/pjax: Invalid protocol, pjax expects https or http protocol"):console.error("@brixtol/pjax: Not supported by this browser")}function en(e,t){if(e)if(t)e==="config"&&de(t),e==="observers"&&x(c,t);else{if(e==="config")return n;if(e==="observers")return c;if(e==="pages")return p;if(e==="snapshots")return y}let r=a(null);return r.config=n,r.snapshots=y,r.pages=p,r.observers=c,r}function tn(e,t){return f(this,null,function*(){if(e===void 0)return Ee();if(typeof e=="string"){let r=H(e);if(!E(r))return console.info(`@brixtol/pjax: No store exists at: ${r}`);let o=Ee(r);return t!==void 0?A(x(o.page,t)):o}if(typeof e=="object")return A(e)})}function rn(e){return f(this,null,function*(){let t=p[T.state.key];e&&x(t,e),t.type=10;let r=yield d(t);return r?(console.info("@brixtol/pjax: Triggered reload, page was re-cached"),L(r)):(console.warn("@brixtol/pjax: Reload failed, triggering refresh (cache will be purged)"),location.assign(t.key))})}function on(e){return f(this,null,function*(){let t=m(e,13);if(t.location.origin!==F)return console.error("@brixtol/pjax: Cross origin fetches are not allowed");let r=yield ee(t.key);if(r)return O(r)})}function nn(e){return q(e)}function sn(e){return f(this,null,function*(){})}function an(e,t){return f(this,null,function*(){let r=m(3);r.position=D(),r.attrs.hydrate=t;let o=yield ee(e);if(!o)return console.warn("@brixtol/pjax: hydration failed");let i=E(r.key)?A(r,o):h(r);if(n.reverse){let s=m(r.rev,8);d(s)}return L(i)})}function cn(e){return f(this,null,function*(){let t=m(e,11);if(E(t.key)){console.warn(`@brixtol/pjax: Cache already exists for ${t.key}, prefetch skipped`);return}let r=yield d(h(t));if(r)return r;console.warn(`@brixtol/pjax: Prefetch failed for ${t.key}`)})}function fn(e,t){return f(this,null,function*(){let r=m(e),o=typeof t=="object"?x(r,t):r;return E(r.key)?pe(r.key,A(o)):pe(r.key,h(o))})}function ln(){kt()}export{nn as clear,Zo as connect,ln as disconnect,on as fetch,an as hydrate,qt as off,jt as on,cn as prefetch,rn as reload,en as session,tn as state,ar as supported,sn as update,fn as visit};
