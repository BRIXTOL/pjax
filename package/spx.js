var g=(e,t,r)=>new Promise((o,n)=>{var i=L=>{try{M(r.next(L))}catch(Pe){n(Pe)}},l=L=>{try{M(r.throw(L))}catch(Pe){n(Pe)}},M=L=>L.done?o(L.value):Promise.resolve(L.value).then(i,l);M((r=r.apply(e,t)).next())});var E=window.history,ee=window.location.origin;var I=Object.assign,c=Object.create,te=Array.isArray,$=Array.from,re="";function Je(){let e=c(null);return e.targets=["body"],e.timeout=3e4,e.poll=15,e.schema="spx",e.async=!0,e.cache=!0,e.limit=50,e.preload=null,e.session=!1,e.hover=c(null),e.hover.trigger="attribute",e.hover.threshold=250,e.intersect=c(null),e.intersect.rootMargin="0px 0px 0px 0px",e.intersect.threshold=0,e.proximity=c(null),e.proximity.distance=75,e.proximity.threshold=250,e.proximity.throttle=500,e.progress=c(null),e.progress.background="#111",e.progress.height="3px",e.progress.minimum=.09,e.progress.easing="linear",e.progress.speed=300,e.progress.trickle=!0,e.progress.threshold=500,e.progress.trickleSpeed=300,e}var s=Je(),f=c(null),T=c(null),u=c(null),m=c(null),b=c(null),Ie=new Set;function p(e,t){if(e===1)console.info("SPX: "+t);else if(e===2)console.warn("SPX: "+t);else{console.error("SPX: "+t);try{throw e===3?new TypeError(t):new Error(t)}catch(r){}}}function a(e,t){return t in e}function Ge(){return Math.random().toString(36).slice(2)}function Ue(e=2){return(t,r)=>{let o=t.length;return(o<1||t[o-1].length===e?t.push([r]):t[o-1].push(r))&&t}}function we(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":e<1073741824?(e/1048576).toFixed(1)+" MB":(e/1073741824).toFixed(1)+" GB"}function w(e,t){if(arguments.length===1)return o=>w(e,o);let r=t.length;if(r!==0)for(let o=0;o<r;o++)e(t[o],o,t)}function Re(e){for(let t in e)delete e[t]}function Te(e={}){if(a(e,"hover")&&(typeof e.hover!="boolean"?I(s.hover,e.hover):e.hover===!1&&(s.hover=e.hover),delete e.hover),a(e,"intersect")&&(typeof e.intersect!="boolean"?I(s.intersect,e.intersect):e.intersect===!1&&(s.intersect=e.intersect),delete e.intersect),a(e,"proximity")&&(typeof e.proximity!="boolean"?I(s.proximity,e.proximity):e.proximity===!1&&(s.proximity=e.proximity),delete e.proximity),a(e,"progress")&&(typeof e.progress!="boolean"?I(s.progress,e.progress):e.progress===!1&&(s.progress=e.progress),delete e.progress),a(e,"session")){if(e.session==="persist"){let o=localStorage.getItem("spx");o===null?(s.session=Math.floor(1e3+Math.random()*9e3).toString(),localStorage.setItem("spx",s.session)):s.session=o}delete e.session}let t=s.schema===null?"data":`data-${s.schema}`,r=`:not([${t}-disable]):not([href^="#"])`;u.attrs=new RegExp("^href|"+t+"-("+"hydrate|append|prepend|replace|progress|threshold|position|proximity|hover"+")$","i"),u.hydrate=`[${t}-hydrate]`,u.track=`[${t}-track]:not([${t}-track=false])`,u.script=`script:not([${t}-eval=false])`,u.style=`style:not([${t}-eval=false])`,u.styleLink=`link[rel=stylesheet]:not([${t}-eval=false])`,u.href=`a${r}`,s.intersect!==!1&&(u.intersect=`[${t}-intersect]:not([${t}-intersect=false])`,u.interHref=`a${r}:not([${t}-intersect=false])`),s.proximity!==!1&&(u.proximity=`a[${t}-proximity]${r}:not([${t}-proximity=false])`),s.hover!==!1&&(u.hover=s.hover.trigger==="href"?`a${r}:not([${t}-hover=false]):not([${t}-intersect]):not([${t}-proximity])`:`a[${t}-hover]${r}:not([${t}-hover=false]):not([${t}-intersect]):not([${t}-proximity])`),I(s,e),T.bytes=0,T.limit=s.limit,T.visits=0}var _e=/(?:https?:)?\/\/(?:www\.)?/;var Qe=/\b(?:append|prepend)/,Ze=/^(?:application|text)\/(?:x-)?(?:ecma|java)script|text\/javascript$/,et=/^\b(?:true|false)$/i,oe=/^[+-]?\d*\.?\d+$/,tt=/\s+/g;var rt=/\b(?:intersect|hover|proximity)\b/;var Le=/\[?[^,'"[\]()\s]+\]?/g,ot=/\(?\[(['"]?.*['"]?,?)\]\)?/,nt=/[xy]:[0-9.]+/,st=/[xy]|\d*\.?\d+/g;var P=ee.replace(_e,re);function Kt(e){let t=c(null);return w((r,o,n)=>{let i=n.length-1>=o?o-1:o;o%2&&(t[n[i]]=oe.test(r)?Number(r):r)},e),t}function Oe(e,t){let r=t||c(null);for(let{nodeName:o,nodeValue:n}of e.attributes){if(!u.attrs.test(o))continue;if(o==="href"){r.rev=location.pathname+location.search,t||(r.location=ct(n),r.key=r.location.pathname+r.location.search);continue}let i=o.slice(1+o.lastIndexOf("-")),l=n.replace(tt,re);ot.test(l)?r[i]=Qe.test(i)?l.match(Le).reduce(Ue(2),[]):l.match(Le):nt.test(l)?r[i]=Kt(l.match(st)):et.test(l)?rt.test(o)||(r[i]=l==="true"):oe.test(l)?r[i]=Number(l):r[i]=l}return r}function Y(e){let t=c(null),r=e.indexOf("#");r>=0?(t.hash=e.slice(r),e=e.slice(0,r)):t.hash=re;let o=e.indexOf("?");return o>=0?(t.search=e.slice(o),e=e.slice(0,o)):t.search=re,t.pathname=e,t}function ue(e,t){let r=e.indexOf("/",t);if(r>t){let n=e.indexOf("#",r);return n<0?e.slice(r):e.slice(r,n)}let o=e.indexOf("?",t);if(o>t){let n=e.indexOf("#",o);return n<0?e.slice(o):e.slice(o,n)}return e.length-t===P.length?"/":null}function Ae(e){let t=e.startsWith("www.")?e.slice(4):e,r=t.indexOf("/");if(r>=0){let o=t.slice(r);if(t.slice(0,r)===P)return o.length?Y(o):Y("/")}else{let o=t.search(/[?#]/);if(o>=0){if(t.slice(0,o)===P)return Y("/"+t.slice(o))}else if(t===P)return Y("/")}return null}function Xt(e){return e.startsWith("http")?1:e.startsWith("//")?2:e.startsWith("www.")?3:0}function it(e){if(typeof e!="string"||e.length===0)return!1;if(e.charCodeAt(0)===47)return e.charCodeAt(1)!==47?!0:e.startsWith("www.",2)?e.startsWith(P,6):e.startsWith(P,2);if(e.charCodeAt(0)===63)return!0;if(e.startsWith("www."))return e.startsWith(P,4);if(e.startsWith("http")){let t=e.indexOf("/",4)+2;return e.startsWith("www.",t)?e.startsWith(P,t+4):e.startsWith(P,t)}}function Vt(e){return e.charCodeAt(0)===47?e.charCodeAt(1)!==47?Y(e):Ae(e.slice(2)):e.charCodeAt(0)===63?Y(location.pathname+e):e.startsWith("https:")||e.startsWith("http:")?Ae(e.slice(e.indexOf("/",4)+2)):e.startsWith("www.")?Ae(e):null}function A(e){if(typeof e=="object")return e.pathname+e.search;let t=Xt(e);if(t===1){let r=e.charCodeAt(4)===115?8:7,o=e.startsWith("www.",r)?r+4:r;return e.startsWith(P,o)?ue(e,o):null}if(t===2){let r=e.startsWith("www.",2)?6:2;return e.startsWith(P,r)?ue(e,r):null}return t===3?e.startsWith(P,4)?ue(e,4):null:e.startsWith(P,0)?ue(e,0):null}function ct(e){let t=Vt(e);return t.origin=ee,t.hostname=P,t}function d(e,t){if(e instanceof Element){let o=Oe(e);return o.type=t||2,o}let r=c(null);return r.fwd=null,r.rev=location.pathname+location.search,r.location=ct(typeof e=="string"?e:r.rev),r.key=A(r.location),r.type=t||2,r}var Bt=new DOMParser;function W(e){return Bt.parseFromString(e,"text/html")}function Ne(e){let t=e.indexOf(">",e.indexOf("<title"))+1,r=e.indexOf("</title",t);return e.slice(t,r)}var D=c(null);function v(e,...t){let r=e==="store";r&&t.splice(-1,1,W(t[t.length-1]));let o=!0;return w(n=>{let i=n.apply(null,t);r?i instanceof Document?o=i.documentElement.outerHTML:typeof o!="string"&&(o=i!==!1):o=i!==!1},D[e]||[]),o}function Se(e,t){e in D||(D[e]=[]),D[e].push(t)}function Me(e,t){let r=D[e],o=[];if(r&&t){let n=0,i=r.length;for(;n<i;n++)r[n]!==t&&o.push(r[n])}return o.length?D[e]=o:delete D[e],this}function at(e=[]){let t=te(e)?e:[e];for(let r in m){let o=t.indexOf(r);o>=0&&(delete b[m[r].uuid],delete m[r],t.splice(o,1))}}function F(e){e?typeof e=="string"?(delete b[m[e].uuid],delete m[e]):te(e)&&w(t=>{delete m[t],delete b[m[t].uuid]},e):(Re(m),Re(b))}function h(e){return e.replace=a(e,"replace")?[].concat(s.targets,e.replace):s.targets,s.cache&&(a(e,"cache")||(e.cache=s.cache),a(e,"uuid")||(e.uuid=Ge())),a(e,"position")||(e.position=c(null),e.position.y=0,e.position.x=0),s.hover!==!1&&e.type===4&&(a(e,"threshold")||(e.threshold=s.hover.threshold)),s.proximity!==!1&&e.type===6&&(a(e,"proximity")||(e.proximity=s.proximity.distance),a(e,"threshold")||(e.threshold=s.proximity.threshold)),s.progress!==!1&&!a(e,"progress")&&(e.progress=s.progress.threshold),a(e,"visits")||(e.visits=0),m[e.key]=e}function me(e,t){console.log(e);let r=v("store",e,t),o=typeof r=="string"?r:t;return e.type>3&&e.type<7&&(e.type=11),e.title=Ne(o),!s.cache||r===!1||(m[e.key]=e,b[e.uuid]=o,v("cached",e)),e}function q(e,t){let r=a(m,e.key)?m[e.key]:h(e);return typeof t=="string"&&(b[e.uuid]=t,e.title=Ne(t)),I(r,e)}function qe(e=E.state.key){if(a(m,e)){let t=c(null);return t.page=m[e],t.dom=W(b[t.page.uuid]),t}p(4,`No record exists: ${e}`)}function x(e){return a(m,e)&&a(m[e],"uuid")&&a(b,m[e].uuid)}var R=typeof window<"u"?window:{screen:{},navigator:{}},z=(R.matchMedia||function(){return{matches:!1}}).bind(R),Yt=!1,zt={get passive(){return Yt=!0}},ft=function(){};R.addEventListener&&R.addEventListener("p",ft,zt);R.removeEventListener&&R.removeEventListener("p",ft,!1);var S="PointerEvent"in R,He="ontouchstart"in R,Jt="TouchEvent"in R,Gt=He||Jt&&z("(any-pointer: coarse)").matches,oo=(R.navigator.maxTouchPoints||0)>0||Gt,lt=R.navigator.userAgent||"",Ut=z("(pointer: coarse)").matches&&/iPad|Macintosh/.test(lt)&&Math.min(R.screen.width||0,R.screen.height||0)>=768,no=(z("(pointer: coarse)").matches||!z("(pointer: fine)").matches&&He)&&!/Windows.*Firefox/.test(lt),so=z("(any-pointer: fine)").matches||z("(any-hover: hover)").matches||Ut||!He;function ne(e,t){if(!(e instanceof Element))return!1;let r=e.closest(t);return r&&r.tagName==="A"?r:!1}function ke(e){if(e.nodeName!=="A")return!1;let t=e.href;return it(t)?!x(A(t)):!1}function ut(e,t){return $(document.body.querySelectorAll(e)).flatMap(r=>r.nodeName!=="A"?$(r.querySelectorAll(t)).filter(ke):ke(r)?r:[])}var se=e=>$(document.body.querySelectorAll(e)).filter(ke);var ie=c(null),K=c(null),k=c(null);function pe(e){let t=k[e]=new XMLHttpRequest;return new Promise(function(r,o){t.open("GET",e,s.async),t.setRequestHeader("X-SPX","true"),t.setRequestHeader("X-SPX-Session","true"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.onload=function(){r(t.responseText)},t.onloadend=function(n){T.bytes=T.bytes+n.loaded,T.visits=T.visits+1,delete k[e]},t.onerror=function(){o(this.statusText)},t.onabort=function(){delete k[e]},t.send(null)})}function de(e,t,r){a(K,e)||x(e)||(K[e]=setTimeout(t,r))}function mt(e){return a(K,e)?(clearTimeout(K[e]),delete K[e]):!0}function $e(e){if(a(k,e))for(let t in k)e!==t&&(k[t].abort(),p(2,`Pending fetch aborted: ${t}`))}function pt(e){if(s.preload!==null){if(te(s.preload))return Promise.all(s.preload.filter(t=>{let r=d(t,7);return r.key!==t?y(h(r)):!1}));if(typeof s.preload=="object"&&a(s.preload,e.key))return Promise.all(s.preload[e.key].map(t=>y(h(d(t,7)))))}}function J(e){if(x(e))return;let t=d(e,8),r=h(t);y(r)}function We(e){return g(this,null,function*(){if(!a(ie,e.key))return Promise.resolve(e);let t=yield ie[e.key];return me(e,t)})}function y(e){return a(k,e.key)?(e.type===8?(a(k,e.rev)&&k[e.rev].abort(),p(2,`Reverse fetch aborted: ${e.key}`)):p(2,`Fetch already in transit: ${e.key}`),Promise.resolve(!1)):v("fetch",e)?(ie[e.key]=pe(e.key),We(e)):(p(2,`Fetch cancelled within dispatched event: ${e.key}`),Promise.resolve(!1))}function ge(e){let t=ne(e.target,u.hover);t&&(mt(A(t.href)),dt(t))}function G(e){let t=ne(e.target,u.hover);if(!t)return;let r=d(t,4);if(a(K,r.key))return;if(x(r.key))return he(t);_t(t);let o=h(r),n=o.threshold||s.hover.threshold;de(r.key,function(){if(!v("prefetch",t,r))return he(t);y(o).then(function(i){return i?he(t):null})},n)}function dt(e){S?e.addEventListener("pointerenter",G,!1):e.addEventListener("mouseenter",G,!1)}function _t(e){S?(e.addEventListener("pointerout",ge,!1),e.removeEventListener("pointerenter",G,!1)):(e.addEventListener("mouseleave",ge,!1),e.removeEventListener("mouseenter",G,!1))}function he(e){S?(e.removeEventListener("pointerenter",G,!1),e.removeEventListener("pointerout",ge,!1)):(e.removeEventListener("mouseleave",ge,!1),e.removeEventListener("mouseenter",G,!1))}function ve(){!s.hover||f.hover||(w(dt,se(u.hover)),f.hover=!0)}function U(){!f.hover||(w(he,se(u.hover)),f.hover=!1)}function Qt({clientX:e,clientY:t},r){return e<=r.right&&e>=r.left&&t<=r.bottom&&t>=r.top}function Zt(e){let t=c(null),r=e.getBoundingClientRect(),o=e.getAttribute(`${s.schema}-proximity`),n=oe.test(o)?Number(o):s.proximity.distance;return t.target=e,t.top=r.top-n,t.bottom=r.bottom+n,t.left=r.left-n,t.right=r.right+n,t}function er(e){let t=!1;return r=>{if(t)return;t=!0;let o=e.findIndex(n=>Qt(r,n));if(o===-1)setTimeout(()=>{t=!1},s.proximity.throttle);else{let{target:n}=e[o],i=h(d(n,6)),l=i.threshold||s.proximity.threshold;de(i.key,()=>v("prefetch",n,i)?y(i).then(M=>{M&&(e.splice(o,1),t=!1,e.length===0&&(C(),p(1,"Proximity observer disconnected")))}):C(),l)}}}var ce;function ye(){if(!s.proximity||f.proximity)return;let e=se(u.proximity).map(Zt);e.length>0&&(ce=er(e),S?addEventListener("pointermove",ce,!1):addEventListener("mousemove",ce,!1),f.proximity=!0)}function C(){!f.proximity||(S?removeEventListener("pointermove",ce,!1):removeEventListener("mousemove",ce,!1),f.proximity=!1)}var V;function tr(e){return g(this,null,function*(){if(e.isIntersecting){let t=d(e.target,5);if(!v("prefetch",e.target,t))return V.unobserve(e.target);(yield y(h(t)))?V.unobserve(e.target):(p(2,`Prefetch will retry at next intersect for: ${t.key}`),V.observe(e.target))}})}function xe(){!s.intersect||f.intersect||(V||(V=new IntersectionObserver(w(tr),s.intersect)),w(e=>V.observe(e),ut(u.intersect,u.interHref)),f.intersect=!0)}function _(){!f.intersect||(V.disconnect(),f.intersect=!1)}var B=null,ht,ae=null,Fe=[];function Ke(e){let{speed:t,easing:r,minimum:o}=s.progress,n=typeof B=="number";e=vt(e,o,1),B=e===1?null:e;let i=rr(!n);i.offsetWidth,nr(l=>{if(i.style.transform=`translate3d(${yt(e)}%,0,0)`,i.style.transition=`all ${t}ms ${r}`,e!==1)return setTimeout(l,t);i.style.transition="none",i.style.opacity="1",i.offsetWidth,setTimeout(()=>{i.style.transition=`all ${t}ms ${r}`,i.style.opacity="0",setTimeout(()=>[or(),l()],t)},t)})}function gt(e){let t=B;if(!t)return Ee();if(t<1)return typeof e!="number"&&(t>=0&&t<.2?e=.1:t>=.2&&t<.5?e=.04:t>=.5&&t<.8?e=.02:t>=.8&&t<.99?e=.005:e=0),t=vt(t+e,0,.994),Ke(t)}function rr(e){if(ae)return ae;document.documentElement.classList.add("spx-load");let t=e?"-100":yt(B||0),r=document.createElement("div");return r.id="spx-progress",r.style.pointerEvents="none",r.style.background=s.progress.background,r.style.height=s.progress.height,r.style.position="fixed",r.style.zIndex="9999",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.transition="all 0 linear",r.style.transform=`translate3d(${t}%,0,0)`,document.body.appendChild(r),ae=r,r}function or(){document.documentElement.classList.remove("spx-load"),document.getElementById("spx-progress")&&document.body.removeChild(ae),ae=null}function vt(e,t,r){return e<t?t:e>r?r:e}function yt(e){return(-1+e)*100}function nr(e){let t=()=>{let r=Fe.shift();r&&r(t)};Fe.push(e),Fe.length===1&&t()}function Ee(e){!s.progress||(ht=setTimeout(function(){B||Ke(0);let t=function(){setTimeout(()=>{!B||(gt(),t())},s.progress.trickleSpeed)};s.progress.trickle&&t()},e||0))}function xt(e){if(clearTimeout(ht),!(!e&&!B))return gt(.3+.5*Math.random()),Ke(1)}function sr(e){return new Promise((t,r)=>{let o=document.createElement("script");o.addEventListener("error",r),o.async=!1,o.text=e.target.text;for(let{nodeName:n,nodeValue:i}of e.target.attributes)o.setAttribute(n,i);document.contains(e.target)?e.target.replaceWith(o):(document.head.append(o),e.external?o.addEventListener("load",()=>o.remove()):o.remove()),e.external?o.addEventListener("load",()=>t()):t()})}function ir(e){if(!e.hasAttribute("src")&&!e.text)return;let t=e.type?e.type.trim().toLowerCase():"text/javascript",r=Ze.test(t)?1:t==="module"?2:NaN,o=c(null);return o.blocking=!0,o.evaluate=!1,o.external=!1,isNaN(r)||e.noModule&&r===1||(e.src&&(o.external=!0),(r!==1||o.external&&(e.hasAttribute("async")||e.defer))&&(o.blocking=!1),o.evaluate=!0,o.target=e),o}function bt(e){return g(this,null,function*(){try{let t=sr(e);e.blocking&&(yield t)}catch(t){console.error(t)}})}function Pt(e){return g(this,null,function*(){let r=$(e,ir).filter(o=>o.evaluate).reduce((o,n)=>g(this,null,function*(){return n.external?Promise.all([o,bt(n)]):(yield o,yield bt(n))}),Promise.resolve());yield Promise.race([r])})}var Q=c(null),Xe=!1;function fe(){return Q}function cr(){Q.y=window.scrollY,Q.x=window.scrollX,Xe||(requestAnimationFrame(fe),Xe=!0)}function le(){return Xe=!1,Q.x=0,Q.y=0,Q}function It(){f.scroll||(addEventListener("scroll",cr,{passive:!0}),f.scroll=!0)}function wt(){!f.scroll||(removeEventListener("scroll",onscroll,!1),le(),f.scroll=!1)}function ar(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING||-1}function fr(e){return g(this,null,function*(){let t=$(e.querySelectorAll(u.script));t.sort(ar),yield Pt(t)})}function lr(e){e.querySelectorAll(u.track).forEach(t=>{!t.hasAttribute("id")||Ie.has(t.id)||(document.body.appendChild(t),Ie.add(t.id))})}function ur(e,t){let r=e.replace;if(r.length===1&&r[0]==="body")return document.body.replaceWith(t.body);let o=r.join(","),n=document.body.querySelectorAll(o),i=t.body.querySelectorAll(o);n.forEach((l,M)=>{if(!!l.matches(r[M])&&!!v("render",l,i[M])&&(l.replaceWith(i[M]),e.append||e.prepend)){let L=document.createElement("div");return t.childNodes.forEach(L.appendChild),e.append?l.appendChild(L):l.insertBefore(L,l.firstChild)}}),lr(t.body)}function mr(e,t){let r=e.hydrate.join(","),o=document.body.querySelectorAll(r);if(o.length>0){let n=t.body.querySelectorAll(r);o.forEach((i,l)=>{!n[l]||!v("hydrate",i,n[l])||(i.firstChild.nodeType===Node.TEXT_NODE?i.innerHTML=n[l].innerHTML:i.replaceWith(n[l]))})}e.type=2,q(e),at(e.key)}function O(e){U(),_(),C();let t=W(b[e.uuid]);return e.type===3?mr(e,t):(ur(e,t),scrollTo(e.position.x,e.position.y)),fr(t.head),xt(),le(),ve(),xe(),ye(),v("load",e),e}function Tt(e){let t=c(null);return t.key=e.key,t.rev=e.rev,t.title=e.title,t.uuid=e.uuid,t.cache=e.cache,t.replace=e.replace,t.type=e.type,t.progress=e.progress,t.position=le(),t}function Be(){return document.readyState==="complete"}function Lt(){return E.state!==null&&a(E.state,"rev")&&E.state.key!==E.state.rev}function At(e){return E.replaceState(Tt(e),e.title,e.key),e}function Ot(e){return E.pushState(Tt(e),e.title,e.key),e}var Rt;function Nt(e,t){if(!Be())return;let{state:r}=e;if(clearInterval(Rt),x(r.key))return J(r.rev),O(m[r.key]);Rt=setTimeout(function(){return g(this,null,function*(){r.type=9;let o=yield y(r);if(!o)return location.assign(r.key);let n=A(location);if(o.key===n)return O(o);if(x(n))return O(m[n]);let i=h(d(n,9));y(i),E.replaceState(i,document.title,n)})},300)}function St(){f.history||(addEventListener("popstate",Nt,!1),addEventListener("load",Be,!1),f.history=!0)}function Mt(){!f.history||(removeEventListener("popstate",Nt,!1),addEventListener("load",Be,!1),f.history=!1)}function pr(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}function Z(e){if(!pr(e))return;let t=ne(e.target,u.href);if(!t)return;let r=A(t.href);if(r!==null&&(U(),C(),_(),!!v("visit",e)))if(a(ie,r)){let o=m[r];$e(r),t.addEventListener("click",function n(i){return i.preventDefault(),t.removeEventListener("click",n,!1),Ye(o)},!1)}else if(x(r)){let o=Oe(t,m[r]),n=q(o);t.addEventListener("click",function i(l){return l.preventDefault(),t.removeEventListener("click",i,!1),O(n)},!1)}else{$e();let o=d(t,2),n=h(o);y(n),t.addEventListener("click",function i(l){return l.preventDefault(),t.removeEventListener("click",i,!1),Ye(n)},!1)}}function Ye(e){Ee(e.progress),We(e).then(function(t){t?(Ot(t),O(t)):location.assign(e.key)}).catch(function(t){location.assign(e.key),p(4,t)})}function ze(e,t){if(t)typeof t.cache=="string"&&(t.cache==="clear"?F():F(t.key)),Ee(t.progress),y(t).then(function(r){return r?O(r):location.assign(t.key)});else return Ye(m[e])}function Ht(){f.hrefs||(S?addEventListener("pointerdown",Z,!1):(addEventListener("mousedown",Z,!1),addEventListener("touchstart",Z,!1)),f.hrefs=!0)}function kt(){!f.hrefs||(S?removeEventListener("pointerdown",Z,!1):(removeEventListener("mousedown",Z,!1),removeEventListener("touchstart",Z,!1)),f.hrefs=!1)}function Wt(){let e=h(d(1)),t=me(e,document.documentElement.outerHTML);Lt()&&(t.rev=E.state.rev),t.position=fe(),v("connected",t),At(t),J(t.rev),pt(t),removeEventListener("load",Wt)}function Ct(){It(),St(),Ht(),ve(),xe(),ye(),addEventListener("load",Wt),p(1,"Connection Established \u26A1")}function jt(){wt(),Mt(),kt(),U(),_(),C(),F(),p(1,"Disconnected \u{1F614}")}var Dt=!!(E.pushState&&window.requestAnimationFrame&&window.addEventListener&&window.DOMParser);function hr(e={}){Te(e),Dt?/https?/.test(window.location.protocol)?addEventListener("DOMContentLoaded",Ct):p(4,"Invalid protocol, SPX expects https or http protocol"):p(4,"Browser is not supported")}function gr(e,t){if(e)if(t)e==="config"&&Te(t),e==="observers"&&I(f,t);else{if(e==="config")return s;if(e==="observers")return f;if(e==="pages")return m;if(e==="snapshots")return b;if(e==="memory")return we(T.bytes)}let r=c(null);return r.config=s,r.snapshots=b,r.pages=m,r.selectors=u,r.observers=f,r.memory=T,r.memory.size=we(r.memory.bytes),r}function vr(e,t){return g(this,null,function*(){if(e===void 0)return qe();if(typeof e=="string"){let r=A(e);x(r)||p(4,`No store exists at: ${r}`);let o=qe(r);return t!==void 0?q(I(o.page,t)):o}if(typeof e=="object")return q(e)})}function yr(e){return g(this,null,function*(){let t=m[E.state.key];e&&I(t,e),t.type=10;let r=yield y(t);return r?(p(1,"Triggered reload, page was re-cached"),O(r)):(p(2,"Reload failed, triggering refresh (cache will be purged)"),location.assign(t.key))})}function xr(e){return g(this,null,function*(){let t=d(e,13);t.location.origin!==ee&&p(4,"Cross origin fetches are not allowed");let r=yield pe(t.key);if(r)return W(r)})}function Er(e){return F(e)}function wn(e){return g(this,null,function*(){})}function br(e,t){return g(this,null,function*(){let r=d(3);r.position=fe(),r.hydrate=t;let o=yield pe(e);if(!o)return p(2,"Hydration fetch failed");let n=x(r.key)?q(r,o):h(r);return J(r.rev),O(n)})}function Pr(e){return g(this,null,function*(){let t=d(e,11);if(x(t.key)){p(2,`Cache already exists for ${t.key}, prefetch skipped`);return}let r=yield y(h(t));if(r)return r;p(4,`Prefetch failed for ${t.key}`)})}function Ir(e,t){return g(this,null,function*(){let r=d(e),o=typeof t=="object"?I(r,t):r;return x(r.key)?ze(r.key,q(o)):ze(r.key,h(o))})}function wr(){jt()}var Rn={supported:Dt,on:Se,off:Me,connect:hr,session:gr,state:vr,reload:yr,fetch:xr,clear:Er,hydrate:br,prefetch:Pr,visit:Ir,disconnect:wr};export{Er as clear,hr as connect,Rn as default,wr as disconnect,xr as fetch,br as hydrate,Me as off,Se as on,Pr as prefetch,yr as reload,gr as session,vr as state,Dt as supported,wn as update,Ir as visit};
