{% if page.url == '/' %}
  {% assign drawer = '' %}
{% else %}
  {% assign drawer = 'drawer-active' %}
{% endif %}

<!DOCTYPE html>
<html lang="en">

  <head>
    <title>
      {{ title | prepend: 'SPX | ' }}
    </title>
    <meta charset="UTF-8">
    <meta
      name="description"
      content="{{ description }}">
    <meta
      http-equiv="X-UA-Compatible"
      content="IE=edge">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0">
    <link
      href="https://fonts.googleapis.com"
      rel="preconnect">
    <link
      href="https://fonts.gstatic.com"
      crossorigin
      rel="preconnect">
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap"
      rel="stylesheet"
      spx-eval="false">
    <link
      href="{{'/style.css' | url }}"
      rel="stylesheet"
      spx-eval="false">
    <script
      src="{{'/bundle.min.js' | url }}"
      spx-eval="false"
      async></script>

  </head>

  <body>

    {% if page.url == '/' %}

      {% include 'include/landing' %}

    {% else %}

      {% include 'include/navbar' %}
      {% include 'include/search' %}

      <div class="container-fluid container-wrapper">

        <aside
          class="px-0 vh-100 bt br d-none d-sm-block sidebar drawer-left drawer-panel"
          spx-component="drawer"
          spx-drawer:direction="left"
          spx-drawer:width="280">
          {% include 'include/sidebar' %}
        </aside>

        <div
          id="content"
          class="row jc-center jc-md-between content-offset pl-xxl-5">

          <main class="col-11 {{ grid | default: 'col-md-8' }} px-xl-3 pb-4">
            {% include 'include/breadcrumb' %}
            {{ content }}
            {% include 'include/paginate' %}
          </main>

          {% if anchors %}
            <div
              class="col-auto px-5 anchors"
              spx-component="scrollspy">
              <ul>
                {% for name in anchors %}
                  <li>
                    <a
                      href="{{ name | anchor }}"
                      spx-node="scrollspy.href">{{ name }}</a>
                  </li>
                {% endfor %}
              </ul>
            </div>
          {% endif %}
        </div>
      </div>

    {% endif %}
    {% sprite %}

    {% search %}

  </body>
</html>