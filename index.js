var u=(e,t,r)=>new Promise((o,s)=>{var i=L=>{try{R(r.next(L))}catch(ve){s(ve)}},a=L=>{try{R(r.throw(L))}catch(ve){s(ve)}},R=L=>L.done?o(L.value):Promise.resolve(L.value).then(i,a);R((r=r.apply(e,t)).next())});var P=typeof window<"u"?window:{screen:{},navigator:{}},Y=(P.matchMedia||function(){return{matches:!1}}).bind(P),kt=!1,Ct={get passive(){return kt=!0}},Ye=function(){};P.addEventListener&&P.addEventListener("p",Ye,Ct);P.removeEventListener&&P.removeEventListener("p",Ye,!1);var ee="PointerEvent"in P,Ee="ontouchstart"in P,Wt="TouchEvent"in P,jt=Ee||Wt&&Y("(any-pointer: coarse)").matches,Be=(P.navigator.maxTouchPoints||0)>0||jt,ze=P.navigator.userAgent||"",Dt=Y("(pointer: coarse)").matches&&/iPad|Macintosh/.test(ze)&&Math.min(P.screen.width||0,P.screen.height||0)>=768,Ft=(Y("(pointer: coarse)").matches||!Y("(pointer: fine)").matches&&Ee)&&!/Windows.*Firefox/.test(ze),Xt=Y("(any-pointer: fine)").matches||Y("(any-hover: hover)").matches||Dt||!Ee,te=Be&&(Xt||!Ft)?"hybrid":Be?"touchOnly":"mouseOnly";var N=ee?"pointer":"mouse",v=window.history,z=window.location.origin;var I=Object.assign,p=Object.create,re=Array.isArray,k=Array.from,q="";var Ge=()=>({selectors:{},targets:["body"],timeout:3e4,schema:"spx",cache:!0,limit:100,preload:null,async:!0,annotate:!1,hover:{trigger:"attribute",threshold:250},intersect:{rootMargin:"0px 0px 0px 0px",threshold:0},proximity:{distance:75,threshold:250,throttle:500},progress:{background:"#111",height:"3px",minimum:.09,easing:"linear",speed:300,trickle:!0,threshold:500,trickleSpeed:300}});var n=Ge(),m=p(null),T=p(null),c=p(null),E=p(null),be=new Set;function A(e=p(null)){return e.x=window.scrollX,e.y=window.scrollY,e}function Je(e){let t=document.createElement("textarea");return t.innerHTML=e,t.value}function l(e,t){if(e===1)console.info("SPX: "+t);else if(e===2)console.warn("SPX: "+t);else{console.error("SPX: "+t);try{throw e===3?new TypeError(t):new Error(t)}catch(r){}}}function f(e,t){return t in e}function _e(){return Math.random().toString(36).slice(2)}function Ue(e=2){return(t,r)=>{let o=t.length;return(o<1||t[o-1].length===e?t.push([r]):t[o-1].push(r))&&t}}function Pe(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":e<1073741824?(e/1048576).toFixed(1)+" MB":(e/1073741824).toFixed(1)+" GB"}function w(e,t){if(arguments.length===1)return o=>w(e,o);let r=t.length;if(r!==0)for(let o=0;o<r;o++)e(t[o],o,t)}function Ie(e){for(let t in e)delete e[t]}var we=(e={})=>{f(e,"hover")&&(e.hover===!1?n.hover=!1:typeof e.hover=="object"&&I(n.hover,e.hover),delete e.hover),f(e,"intersect")&&(e.intersect===!1?n.intersect=!1:typeof e.intersect=="object"&&I(n.intersect,e.intersect),delete e.intersect),f(e,"proximity")&&(e.proximity===!1?n.proximity=!1:typeof e.proximity=="object"&&I(n.proximity,e.proximity),delete e.proximity),f(e,"progress")&&(e.progress===!1?n.progress=!1:typeof e.progress=="object"&&I(n.progress,e.progress),delete e.progress),I(n,e);let t=n.schema===null,r=t?"data":`data-${n.schema}`,o=`:not([${r}-disable]):not([href^="#"])`;n.selectors.hrefs=n.annotate?t?`a[data-spx]${o}`:`a[${r}]${o}`:`a${o}`,n.selectors.tracking=`[${r}-track]:not([${r}-track=false])`,n.selectors.scripts=`script[${r}-eval]:not([${r}-eval=false])`,n.selectors.styles=`style[${r}-eval]:not([${r}-eval=false])`,n.selectors.attributes=new RegExp("^href|"+r+"-("+"hydrate|append|prepend|target|progress|threshold|position|proximity|hover"+")$","i"),n.selectors.proximity=`a[${r}-proximity]${o}${s("proximity")}`,n.selectors.intersector=`[${r}-intersect]${s("intersect")}`,n.selectors.intersects=`a${o}${s("intersect")}`,n.selectors.hover=n.hover.trigger==="href"?`a${o}${s("hover")}`:`a[${r}-hover]${o}${s("hover")}`,T.bytes=0,T.visits=0,T.limit=n.limit;function s(i){let a=`:not([${r}-${i}=false])`;if(i.charCodeAt(0)===104)return`${a}:not([${r}-proximity]):not([${r}-intersect])`;if(i.charCodeAt(0)===105)return`${a}:not([${r}-hover]):not([${r}-proximity])`;if(i.charCodeAt(0)===112)return`${a}:not([${r}-intersect]):not([${r}-hover])`}};var Qe=/(?:https?:)?\/\/(?:www\.)?/;var Ze=/\b(?:append|prepend)/,et=/^(?:application|text)\/(?:x-)?(?:ecma|java)script|text\/javascript$/,tt=/^\b(?:true|false)$/i,oe=/^[+-]?\d*\.?\d+$/,rt=/\s+/g;var ot=/\b(?:intersect|hover|proximity)\b/;var Re=/\[?[^,'"[\]()\s]+\]?/g,nt=/\(?\[(['"]?.*['"]?,?)\]\)?/,st=/[xy]:[0-9.]+/,it=/[xy]|\d*\.?\d+/g;var b=z.replace(Qe,q);function Vt(e){let t=p(null);return w((r,o,s)=>{let i=s.length-1>=o?o-1:o;o%2&&(t[s[i]]=oe.test(r)?Number(r):r)},e),t}function Ae(e,t){let r=t||p(null);for(let{nodeName:o,nodeValue:s}of e.attributes)if(!!n.selectors.attributes.test(o))if(o==="href")r.rev=location.pathname+location.search,t||(r.location=at(s),r.key=r.location.pathname+r.location.search);else{let i=o.slice(1+o.lastIndexOf("-")),a=s.replace(rt,q);nt.test(a)?r[i]=Ze.test(i)?a.match(Re).reduce(Ue(2),[]):a.match(Re):st.test(a)?r[i]=Vt(a.match(it)):tt.test(a)?ot.test(o)||(r[i]=a==="true"):oe.test(a)?r[i]=Number(a):r[i]=a}return r}function J(e){let t=p(null);if(e.length===1&&e.charCodeAt(0)===47)return t.pathname=e,t.hash=q,t.search=q,t;let o=e.indexOf("#");o>=0?(t.hash=e.slice(o),e=e.slice(0,o)):t.hash=q;let s=e.indexOf("?");return s>=0?(t.search=e.slice(s),e=e.slice(0,s)):t.search=q,t.pathname=e,t}function fe(e,t){let r=e.indexOf("/",t);if(r>t){let s=e.indexOf("#",r);return s<0?e.slice(r):e.slice(r,s)}let o=e.indexOf("?",t);if(o>t){let s=e.indexOf("#",o);return s<0?e.slice(o):e.slice(o,s)}return e.length-t===b.length?"/":null}function Te(e){let t=e.startsWith("www.")?e.slice(4):e,r=t.indexOf("/");if(r>=0){let o=t.slice(r);if(t.slice(0,r)===b)return o.length>0?J(o):J("/")}else{let o=t.search(/[?#]/);if(o>=0){if(t.slice(0,o)===b)return J("/"+t.slice(o))}else if(t===b)return J("/")}return null}function Bt(e){return e.startsWith("http")?1:e.startsWith("//")?2:e.startsWith("www.")?3:0}function ct(e){if(typeof e!="string"||e.length===0)return!1;if(e.charCodeAt(0)===47)return e.charCodeAt(1)!==47?!0:e.startsWith("www.",2)?e.startsWith(b,6):e.startsWith(b,2);if(e.charCodeAt(0)===63)return!0;if(e.startsWith("www."))return e.startsWith(b,4);if(e.startsWith("http")){let t=e.indexOf("/",4)+2;return e.startsWith("www.",t)?e.startsWith(b,t+4):e.startsWith(b,t)}}function Yt(e){return e.charCodeAt(0)===47?e.charCodeAt(1)!==47?J(e):Te(e.slice(2)):e.charCodeAt(0)===63?J(location.pathname+e):e.startsWith("https:")||e.startsWith("http:")?Te(e.slice(e.indexOf("/",4)+2)):e.startsWith("www.")?Te(e):null}function O(e){if(typeof e=="object")return e.pathname+e.search;if(e===q)return"/";let t=Bt(e);if(t===1){let r=e.charCodeAt(4)===115?8:7,o=e.startsWith("www.",r)?r+4:r;return e.startsWith(b,o)?fe(e,o):null}if(t===2){let r=e.startsWith("www.",2)?6:2;return e.startsWith(b,r)?fe(e,r):null}return t===3?e.startsWith(b,4)?fe(e,4):null:e.startsWith(b,0)?fe(e,0):null}function zt(){return{hostname:b,origin:z,pathname:location.pathname,search:location.search,hash:location.hash}}function at(e){if(e===q)return zt();let t=Yt(e);return t.origin=z,t.hostname=b,t}function d(e,t){if(e instanceof Element){let o=Ae(e);return o.type=t||7,o}let r=p(null);return r.rev=location.pathname+location.search,r.location=at(typeof e=="string"?e:r.rev),r.key=O(r.location),r.type=t||7,r}function C(e){return new DOMParser().parseFromString(e,"text/html")}function Le(e){let t=e.indexOf(">",e.indexOf("<title"))+1,r=e.indexOf("</title",t);return Je(e.slice(t,r))}var D=p(null);function y(e,...t){let r=e==="store";r&&t.splice(-1,1,C(t[t.length-1]));let o=!0;return w(s=>{let i=s.apply(null,t);r?i instanceof Document?o=i.documentElement.outerHTML:typeof o!="string"&&(o=i!==!1):o=i!==!1},D[e]||[]),o}function Oe(e,t){f(D,e)||(D[e]=[]),D[e].push(t)}function $e(e,t){let r=D[e],o=[];if(r&&t){let s=0,i=r.length;for(;s<i;s++)r[s]!==t&&o.push(r[s])}return o.length?D[e]=o:delete D[e],this}function ft(e=[]){let t=re(e)?e:[e];for(let r in c){let o=t.indexOf(r);o>=0&&(delete E[c[r].uuid],delete c[r],t.splice(o,1))}}function F(e){e?typeof e=="string"?(delete E[c[e].uuid],delete c[e]):re(e)&&w(t=>{delete c[t],delete E[c[t].uuid]},e):(Ie(c),Ie(E))}function h(e){return e.target=f(e,"target")?e.target.length===1&&e.target[0]==="body"?e.target:[].concat(n.targets,e.target):n.targets,n.cache&&(f(e,"cache")||(e.cache=n.cache),f(e,"uuid")||(e.uuid=_e())),f(e,"position")||(e.position=p(null),e.position.y=0,e.position.x=0),n.hover!==!1&&e.type===11&&(f(e,"threshold")||(e.threshold=n.hover.threshold)),n.proximity!==!1&&e.type===13&&(f(e,"proximity")||(e.proximity=n.proximity.distance),f(e,"threshold")||(e.threshold=n.proximity.threshold)),n.progress!==!1&&!f(e,"progress")&&(e.progress=n.progress.threshold),f(e,"visits")||(e.visits=0),c[e.key]=e,c[e.key]}function ue(e,t){let r=y("store",e,t),o=typeof r=="string"?r:t;return e.type>6&&(e.type>10?e.type=2:f(c,e.rev)&&(c[e.rev].position.x=window.scrollX,c[e.rev].position.y=window.scrollY)),e.title=Le(o),!n.cache||r===!1?e:f(e,"uuid")?(c[e.key]=e,E[e.uuid]=o,y("cached",e),e):S(e,o)}function S(e,t){let r=f(c,e.key)?c[e.key]:h(e);return typeof t=="string"&&(E[e.uuid]=t,e.title=Le(t),e.position=A()),I(r,e)}function Ne(e=v.state.key){if(f(c,e)){let t=p(null);return t.page=c[e],t.dom=C(E[t.page.uuid]),t}l(4,`No record exists: ${e}`)}function x(e){return f(c,e)&&f(c[e],"uuid")&&f(E,c[e].uuid)&&typeof E[c[e].uuid]=="string"}function ne(e,t){if(!(e instanceof Element))return!1;let r=e.closest(t);return r&&r.tagName==="A"?r:!1}function Me(e){if(e.nodeName!=="A")return!1;let t=e.href;return ct(t)?!x(O(t)):!1}function ut(e,t){return k(document.body.querySelectorAll(e)).flatMap(r=>r.nodeName!=="A"?k(r.querySelectorAll(t)).filter(Me):Me(r)?r:[])}var se=e=>k(document.body.querySelectorAll(e)).filter(Me);var ie=p(null),X=p(null),Se=class extends XMLHttpRequest{constructor(){super(...arguments);this.key=null}},K=new Map;function me(e){return new Promise(function(t,r){let o=new Se;o.key=e,o.open("GET",e),o.setRequestHeader("X-SPX","true"),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onload=function(){t(this.responseText)},o.onerror=function(){r(this.statusText)},o.onabort=function(){K.delete(this.key)},o.onloadend=function(s){T.bytes=T.bytes+s.loaded,T.visits=T.visits+1,K.delete(this.key)},o.send(),K.set(e,o)})}function pe(e,t,r){f(X,e)||x(e)||(X[e]=setTimeout(t,r))}function le(e){return f(X,e)?(clearTimeout(X[e]),delete X[e]):!0}function qe(e){return K.forEach((t,r)=>{e!==r&&(t.abort(),l(2,`Pending request aborted: ${r}`))})}function mt(e){if(n.preload!==null){if(re(n.preload)){let t=n.preload.filter(r=>{let o=d(r,4);return o.key!==r?g(h(o)):!1});return Promise.allSettled(t)}else if(typeof n.preload=="object"&&f(n.preload,e.key)){let t=n.preload[e.key].map(r=>g(h(d(r,4))));return Promise.allSettled(t)}}}function _(e){return u(this,null,function*(){if(x(e)){c[e].position=A();return}let t=d(e,5),r=h(t);setTimeout(()=>g(r))})}function He(e){return u(this,null,function*(){if(!f(ie,e.key))return e;let t=yield ie[e.key];return ue(e,t)})}function g(e){return u(this,null,function*(){return K.has(e.key)?(e.type===5&&K.has(e.rev)?(K.get(e.rev).abort(),l(2,`Request aborted: ${e.rev}`)):l(2,`Request in transit: ${e.key}`),!1):y("fetch",e)?(ie[e.key]=me(e.key),He(e)):(l(2,`Request cancelled via dispatched event: ${e.key}`),!1)})}function pt(e){let t=ne(e.target,n.selectors.hover);if(!t)return;let r=d(t,11);if(f(X,r.key)||x(r.key))return;t.addEventListener(`${N}leave`,lt,{once:!0});let o=h(r),s=o.threshold||n.hover.threshold;pe(r.key,function(){return u(this,null,function*(){if(!y("prefetch",t,r))return;(yield g(o))&&dt(t)})},s)}function lt(e){let t=ne(e.target,n.selectors.hover);t&&le(O(t.href))}function Gt(e){e.addEventListener(`${N}enter`,pt)}function dt(e){e.removeEventListener(`${N}enter`,pt),e.removeEventListener(`${N}leave`,lt)}function de(){!n.hover||m.hover||(w(Gt,se(n.selectors.hover)),m.hover=!0)}function Q(){!m.hover||(w(dt,se(n.selectors.hover)),m.hover=!1)}function Jt({clientX:e,clientY:t},r){return e<=r.right&&e>=r.left&&t<=r.bottom&&t>=r.top}function _t(e){let t=p(null),r=e.getBoundingClientRect(),o=e.getAttribute(n.selectors.proximity),s=oe.test(o)?Number(o):n.proximity.distance;return t.target=e,t.top=r.top-s,t.bottom=r.bottom+s,t.left=r.left-s,t.right=r.right+s,t}function Ut(e){let t=!1;return console.log(e),function(r){if(t)return;t=!0;let o=e.findIndex(s=>Jt(r,s));if(o===-1)setTimeout(()=>t=!1,n.proximity.throttle);else{let{target:s}=e[o];console.log(e);let i=h(d(s,13)),a=i.threshold||n.proximity.threshold;pe(i.key,()=>u(this,null,function*(){if(!y("prefetch",s,i))return W();(yield g(i))&&(e.splice(o,1),t=!1,e.length===0&&(W(),l(1,"Proximity observer disconnected")))}),a)}}}var ce;function he(){if(!n.proximity||m.proximity)return;let e=se(n.selectors.proximity).map(_t);e.length>0&&(ce=Ut(e),ee?addEventListener("pointermove",ce,{passive:!0}):addEventListener("mousemove",ce,{passive:!0}),m.proximity=!0)}function W(){!m.proximity||(ee?removeEventListener("pointermove",ce):removeEventListener("mousemove",ce),m.proximity=!1)}var V;function Qt(e){return u(this,null,function*(){if(e.isIntersecting){let t=d(e.target,12);if(!y("prefetch",e.target,t))return V.unobserve(e.target);(yield g(h(t)))?V.unobserve(e.target):(l(2,`Prefetch will retry at next intersect for: ${t.key}`),V.observe(e.target))}})}function ge(){if(!n.intersect||m.intersect)return;V||(V=new IntersectionObserver(w(Qt),n.intersect));let e=w(r=>V.observe(r)),t=ut(n.selectors.intersector,n.selectors.intersects);e(t),m.intersect=!0}function Z(){!m.intersect||(V.disconnect(),m.intersect=!1)}var B=null,ht,ae=null,je=[];function De(e){let{speed:t,easing:r,minimum:o}=n.progress,s=typeof B=="number";e=yt(e,o,1),B=e===1?null:e;let i=Zt(!s);i.offsetWidth,tr(a=>{if(i.style.transform=`translate3d(${xt(e)}%,0,0)`,i.style.transition=`all ${t}ms ${r}`,e!==1)return setTimeout(a,t);i.style.transition="none",i.style.opacity="1",i.offsetWidth,setTimeout(()=>{i.style.transition=`all ${t}ms ${r}`,i.style.opacity="0",setTimeout(()=>[er(),a()],t)},t)})}function gt(e){let t=B;if(!t)return ye();if(t<1)return typeof e!="number"&&(t>=0&&t<.2?e=.1:t>=.2&&t<.5?e=.04:t>=.5&&t<.8?e=.02:t>=.8&&t<.99?e=.005:e=0),t=yt(t+e,0,.994),De(t)}function Zt(e){if(ae)return ae;document.documentElement.classList.add("spx-load");let t=e?"-100":xt(B||0),r=document.createElement("div");return r.id="spx-progress",r.style.pointerEvents="none",r.style.background=n.progress.background,r.style.height=n.progress.height,r.style.position="fixed",r.style.zIndex="9999999",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.transition="all 0 linear",r.style.transform=`translate3d(${t}%,0,0)`,document.body.appendChild(r),ae=r,r}function er(){document.documentElement.classList.remove("spx-load"),document.getElementById("spx-progress")&&document.body.removeChild(ae),ae=null}function yt(e,t,r){return e<t?t:e>r?r:e}function xt(e){return(-1+e)*100}function tr(e){let t=()=>{let r=je.shift();r&&r(t)};je.push(e),je.length===1&&t()}function ye(e){!n.progress||(ht=setTimeout(function(){B||De(0);let t=function(){setTimeout(()=>{!B||(gt(),t())},n.progress.trickleSpeed)};n.progress.trickle&&t()},e||0))}function vt(e){if(clearTimeout(ht),!(!e&&!B))return gt(.3+.5*Math.random()),De(1)}function rr(e){return new Promise((t,r)=>{let o=document.createElement("script");o.addEventListener("error",r,{once:!0}),o.async=!1,o.text=e.target.text;for(let{nodeName:s,nodeValue:i}of e.target.attributes)o.setAttribute(s,i);document.contains(e.target)?e.target.replaceWith(o):(document.head.append(o),e.external?o.addEventListener("load",()=>o.remove(),{once:!0}):o.remove()),e.external?o.addEventListener("load",()=>t(),{once:!0}):t()})}function or(e){if(!e.hasAttribute("src")&&!e.text)return;let t=e.type?e.type.trim().toLowerCase():"text/javascript",r=et.test(t)?1:t==="module"?2:NaN,o=p(null);return o.blocking=!0,o.evaluate=!1,o.external=!1,isNaN(r)||e.noModule&&r===1||(e.src&&(o.external=!0),(r!==1||o.external&&(e.hasAttribute("async")||e.defer))&&(o.blocking=!1),o.evaluate=!0,o.target=e),o}function bt(e){return u(this,null,function*(){try{let t=rr(e);e.blocking&&(yield t)}catch(t){console.error(t)}})}function Pt(e){return u(this,null,function*(){let r=k(e,or).filter(o=>o.evaluate).reduce((o,s)=>u(this,null,function*(){return s.external?Promise.all([o,bt(s)]):(yield o,yield bt(s))}),Promise.resolve());yield Promise.race([r])})}function nr(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING||-1}function sr(e){return u(this,null,function*(){let t=k(e.querySelectorAll(n.selectors.scripts));t.sort(nr),yield Pt(t)})}function ir(e){e.querySelectorAll(n.selectors.tracking).forEach(t=>{!t.hasAttribute("id")||be.has(t.id)||(document.body.appendChild(t),be.add(t.id))})}function cr(e,t){let r=e.target;if(r.length===1&&r[0]==="body")return document.body.replaceWith(t.body);let o=r.join(","),s=document.body.querySelectorAll(o),i=t.body.querySelectorAll(o);s.forEach((a,R)=>{if(!!a.matches(r[R])&&!!y("render",a,i[R])&&(a.replaceWith(i[R]),e.append||e.prepend)){let L=document.createElement("div");return t.childNodes.forEach(L.appendChild),e.append?a.appendChild(L):a.insertBefore(L,a.firstChild)}}),ir(t.body)}function ar(e,t){let r=e.hydrate.join(","),o=document.body.querySelectorAll(r);if(o.length>0){let s=t.body.querySelectorAll(r);o.forEach((i,a)=>{!s[a]||!y("hydrate",i,s[a])||(i.firstChild.nodeType===Node.TEXT_NODE?i.innerHTML=s[a].innerHTML:i.replaceWith(s[a]))})}e.type=7,S(e),ft(e.key)}function $(e){document.title=e.title,Q(),Z(),W();let t=C(E[e.uuid]);return e.type===8?ar(e,t):(cr(e,t),scrollTo(e.position.x,e.position.y)),sr(t.head),vt(),de(),ge(),he(),y("load",e),e}function wt(e){let t=p(null);return t.key=e.key,t.rev=e.rev,t.title=e.title,t.position=e.position,t}function fr(){return document.readyState==="complete"}function Rt(){return v.state!==null&&f(v.state,"rev")&&v.state.key!==v.state.rev}function Tt(e){return v.replaceState(wt(e),e.title,e.key),e}function xe(e){return v.pushState(wt(e),e.title,e.key),e}var It;function At(e){if(!!fr()&&e.state!==null){if(clearInterval(It),x(e.state.key))return _(e.state.rev),$(c[e.state.key]);It=setTimeout(function(){return u(this,null,function*(){e.state.type=6;let t=yield g(e.state);if(!t)return location.assign(e.state.key);let r=O(location);if(t.key===r)return $(t);if(x(r))return $(c[r]);{let o=h(d(r,6));yield g(o),v.pushState(o,document.title,r)}})},200)}}function Lt(){m.history||(addEventListener("popstate",At,!1),m.history=!0)}function Ot(){!m.history||(removeEventListener("popstate",At,!1),m.history=!1)}function ur(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}function j(e){if(!ur(e))return;let t=ne(e.target,n.selectors.hrefs);if(!t)return;let r=O(t.href);if(r===null||!y("visit",e))return;Q(),W(),Z();let o={once:!0};if(x(r)){let s=Ae(t,c[r]),i=S(s);t.addEventListener("click",function(R){R.preventDefault(),c[i.rev].position=A(),xe(i),$(i)},o)}else if(f(ie,r)){let s=c[r];qe(r),t.addEventListener("click",function(a){a.preventDefault(),c[s.rev].position=A(),Xe(s)},o)}else{qe(),le(r);let s=d(t,7),i=h(s);g(i),t.addEventListener("click",function(R){R.preventDefault(),c[i.rev].position=A(),Xe(i)},o)}}function Xe(e){return u(this,null,function*(){ye(e.progress);let t=yield He(e);if(t)xe(t),$(t);else return location.assign(e.key)})}function Ke(e,t){return u(this,null,function*(){if(t){typeof t.cache=="string"&&(t.cache==="clear"?F():F(t.key)),ye(t.progress);let r=yield g(t);r?(xe(r),$(r)):location.assign(t.key)}else return Xe(c[e])})}function Nt(){m.hrefs||(te==="mouseOnly"?addEventListener(`${N}down`,j,!1):(te==="touchOnly"||addEventListener(`${N}down`,j,!1),addEventListener("touchstart",j,!1)),m.hrefs=!0)}function Mt(){!m.hrefs||(te==="mouseOnly"?removeEventListener(`${N}down`,j,!1):(te==="touchOnly"||removeEventListener(`${N}down`,j,!1),removeEventListener("touchstart",j,!1)),m.hrefs=!1)}function qt(){Lt();let e=h(d(1));return new Promise(t=>{document.addEventListener("DOMContentLoaded",()=>{Nt(),de(),ge(),he();let r=ue(e,document.documentElement.outerHTML);Rt()&&(r.rev=v.state.rev),r.position=A(),Tt(r),r.rev!==r.key&&setTimeout(()=>_(r.rev)),setTimeout(()=>mt(r)),t(r)},{once:!0})})}function Ve(){Ot(),Mt(),Q(),Z(),W(),F(),l(1,"Disconnected \u{1F614}")}var Ht=!!(window.history.pushState&&window.requestAnimationFrame&&window.addEventListener&&window.DOMParser);function mr(e={}){if(!Ht)return l(4,"Browser does not support SPX");if(!window.location.protocol.startsWith("http"))return l(4,"Invalid protocol, SPX expects https or http protocol");we(e);let t=qt();return function(r){return u(this,null,function*(){let o=yield t;r(o),l(1,"Connection Established \u26A1")})}}function pr(e,t){if(e)if(t)e==="config"&&we(t),e==="observers"&&I(m,t);else{if(e==="config")return n;if(e==="observers")return m;if(e==="pages")return c;if(e==="snapshots")return E;if(e==="memory")return Pe(T.bytes)}let r=p(null);return r.config=n,r.snapshots=E,r.pages=c,r.observers=m,r.memory=T,r.memory.size=Pe(r.memory.bytes),r}function lr(e,t){return u(this,null,function*(){if(e===void 0)return Ne();if(typeof e=="string"){let r=O(e);x(r)||l(4,`No store exists at: ${r}`);let o=Ne(r);return t!==void 0?S(I(o.page,t)):o}if(typeof e=="object")return S(e)})}function dr(e){return u(this,null,function*(){let t=c[v.state.key];e&&I(t,e),t.type=10;let r=yield g(t);return r?(l(1,"Triggered reload, page was re-cached"),$(r)):(l(2,"Reload failed, triggering refresh (cache will be purged)"),location.assign(t.key))})}function hr(e){return u(this,null,function*(){let t=d(e,3);t.location.origin!==z&&l(4,"Cross origin fetches are not allowed");let r=yield me(t.key);if(r)return C(r)})}function gr(e){return F(e)}function vn(e){return u(this,null,function*(){})}function yr(e,t){return u(this,null,function*(){let r=d(8);r.position=A(),r.hydrate=t;let o=yield me(e);if(!o)return l(2,"Hydration fetch failed");let s=x(r.key)?S(r,o):h(r);return setTimeout(()=>_(r.rev)),$(s)})}function xr(e){return u(this,null,function*(){let t=d(e,2);if(x(t.key)){l(2,`Cache already exists for ${t.key}, prefetch skipped`);return}let r=yield g(h(t));if(r)return r;l(4,`Prefetch failed for ${t.key}`)})}function vr(e,t){return u(this,null,function*(){let r=d(e),o=typeof t=="object"?I(r,t):r;return x(r.key)?Ke(r.key,S(o)):Ke(r.key,h(o))})}var En={supported:Ht,on:Oe,off:$e,connect:mr,session:pr,state:lr,reload:dr,fetch:hr,clear:gr,hydrate:yr,prefetch:xr,visit:vr,disconnect:Ve};export{gr as clear,mr as connect,En as default,Ve as disconnect,hr as fetch,yr as hydrate,$e as off,Oe as on,xr as prefetch,dr as reload,pr as session,lr as state,Ht as supported,vn as update,vr as visit};
