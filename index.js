var h=(e,t,r)=>new Promise((o,s)=>{var i=T=>{try{$(r.next(T))}catch(be){s(be)}},c=T=>{try{$(r.throw(T))}catch(be){s(be)}},$=T=>T.done?o(T.value):Promise.resolve(T.value).then(i,c);$((r=r.apply(e,t)).next())});var x=window.history,Z=window.location.origin;var P=Object.assign,a=Object.create,ee=Array.isArray,H=Array.from,te="";function ze(){let e=a(null);return e.targets=["body"],e.timeout=3e4,e.schema="spx",e.cache=!0,e.limit=100,e.preload=null,e.annotate=!1,e.hover=a(null),e.hover.trigger="attribute",e.hover.threshold=250,e.intersect=a(null),e.intersect.rootMargin="0px 0px 0px 0px",e.intersect.threshold=0,e.proximity=a(null),e.proximity.distance=75,e.proximity.threshold=250,e.proximity.throttle=500,e.progress=a(null),e.progress.background="#111",e.progress.height="3px",e.progress.minimum=.09,e.progress.easing="linear",e.progress.speed=300,e.progress.trickle=!0,e.progress.threshold=500,e.progress.trickleSpeed=300,e.selectors=a(null),e}var n=ze(),f=a(null),w=a(null),l=a(null),E=a(null),Pe=new Set;function m(e,t){if(e===1)console.info("SPX: "+t);else if(e===2)console.warn("SPX: "+t);else{console.error("SPX: "+t);try{throw e===3?new TypeError(t):new Error(t)}catch(r){}}}function u(e,t){return t in e}function Ge(){return Math.random().toString(36).slice(2)}function Je(e=2){return(t,r)=>{let o=t.length;return(o<1||t[o-1].length===e?t.push([r]):t[o-1].push(r))&&t}}function Ie(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":e<1073741824?(e/1048576).toFixed(1)+" MB":(e/1073741824).toFixed(1)+" GB"}function I(e,t){if(arguments.length===1)return o=>I(e,o);let r=t.length;if(r!==0)for(let o=0;o<r;o++)e(t[o],o,t)}function Re(e){for(let t in e)delete e[t]}var we=(e={})=>{u(e,"hover")&&(e.hover===!1?n.hover=!1:typeof e.hover=="object"&&P(n.hover,e.hover),delete e.hover),u(e,"intersect")&&(e.intersect===!1?n.intersect=!1:typeof e.intersect=="object"&&P(n.intersect,e.intersect),delete e.intersect),u(e,"proximity")&&(e.proximity===!1?n.proximity=!1:typeof e.proximity=="object"&&P(n.proximity,e.proximity),delete e.proximity),u(e,"progress")&&(e.progress===!1?n.progress=!1:typeof e.progress=="object"&&P(n.progress,e.progress),delete e.progress),P(n,e);let t=n.schema===null,r=t?"data":`data-${n.schema}`,o=`:not([${r}-disable]):not([href^="#"])`;n.selectors.hrefs=n.annotate?t?`a[data-spx]${o}`:`a[${r}]${o}`:`a${o}`,n.selectors.tracking=`[${r}-track]:not([${r}-track=false])`,n.selectors.scripts=`script[${r}-eval]:not([${r}-eval=false])`,n.selectors.styles=`style[${r}-eval]:not([${r}-eval=false])`,n.selectors.attributes=new RegExp("^href|"+r+"-("+"hydrate|append|prepend|replace|progress|threshold|position|proximity|hover"+")$","i"),n.selectors.proximity=`a[${r}-proximity]${o}${s("proximity")}`,n.selectors.intersector=`[${r}-intersect]${s("intersect")}`,n.selectors.intersects=`a${o}${s("intersect")}`,n.selectors.hover=n.hover.trigger==="href"?`a${o}${s("hover")}`:`a[${r}-hover]${o}${s("hover")}`,w.bytes=0,w.visits=0,w.limit=n.limit;function s(i){let c=`:not([${r}-${i}=false])`;if(i.charCodeAt(0)===104)return`${c}:not([${r}-proximity]):not([${r}-intersect])`;if(i.charCodeAt(0)===105)return`${c}:not([${r}-hover]):not([${r}-proximity])`;if(i.charCodeAt(0)===112)return`${c}:not([${r}-intersect]):not([${r}-hover])`}};var _e=/(?:https?:)?\/\/(?:www\.)?/;var Ue=/\b(?:append|prepend)/,Qe=/^(?:application|text)\/(?:x-)?(?:ecma|java)script|text\/javascript$/,Ze=/^\b(?:true|false)$/i,re=/^[+-]?\d*\.?\d+$/,et=/\s+/g;var tt=/\b(?:intersect|hover|proximity)\b/;var Te=/\[?[^,'"[\]()\s]+\]?/g,rt=/\(?\[(['"]?.*['"]?,?)\]\)?/,ot=/[xy]:[0-9.]+/,nt=/[xy]|\d*\.?\d+/g;var b=Z.replace(_e,te);function Ft(e){let t=a(null);return I((r,o,s)=>{let i=s.length-1>=o?o-1:o;o%2&&(t[s[i]]=re.test(r)?Number(r):r)},e),t}function Ae(e,t){let r=t||a(null);for(let{nodeName:o,nodeValue:s}of e.attributes){if(!n.selectors.attributes.test(o))continue;if(o==="href"){r.rev=location.pathname+location.search,t||(r.location=it(s),r.key=r.location.pathname+r.location.search);continue}let i=o.slice(1+o.lastIndexOf("-")),c=s.replace(et,te);rt.test(c)?r[i]=Ue.test(i)?c.match(Te).reduce(Je(2),[]):c.match(Te):ot.test(c)?r[i]=Ft(c.match(nt)):Ze.test(c)?tt.test(o)||(r[i]=c==="true"):re.test(c)?r[i]=Number(c):r[i]=c}return r}function B(e){let t=a(null),r=e.indexOf("#");r>=0?(t.hash=e.slice(r),e=e.slice(0,r)):t.hash=te;let o=e.indexOf("?");return o>=0?(t.search=e.slice(o),e=e.slice(0,o)):t.search=te,t.pathname=e,t}function ue(e,t){let r=e.indexOf("/",t);if(r>t){let s=e.indexOf("#",r);return s<0?e.slice(r):e.slice(r,s)}let o=e.indexOf("?",t);if(o>t){let s=e.indexOf("#",o);return s<0?e.slice(o):e.slice(o,s)}return e.length-t===b.length?"/":null}function Le(e){let t=e.startsWith("www.")?e.slice(4):e,r=t.indexOf("/");if(r>=0){let o=t.slice(r);if(t.slice(0,r)===b)return o.length?B(o):B("/")}else{let o=t.search(/[?#]/);if(o>=0){if(t.slice(0,o)===b)return B("/"+t.slice(o))}else if(t===b)return B("/")}return null}function Kt(e){return e.startsWith("http")?1:e.startsWith("//")?2:e.startsWith("www.")?3:0}function st(e){if(typeof e!="string"||e.length===0)return!1;if(e.charCodeAt(0)===47)return e.charCodeAt(1)!==47?!0:e.startsWith("www.",2)?e.startsWith(b,6):e.startsWith(b,2);if(e.charCodeAt(0)===63)return!0;if(e.startsWith("www."))return e.startsWith(b,4);if(e.startsWith("http")){let t=e.indexOf("/",4)+2;return e.startsWith("www.",t)?e.startsWith(b,t+4):e.startsWith(b,t)}}function Xt(e){return e.charCodeAt(0)===47?e.charCodeAt(1)!==47?B(e):Le(e.slice(2)):e.charCodeAt(0)===63?B(location.pathname+e):e.startsWith("https:")||e.startsWith("http:")?Le(e.slice(e.indexOf("/",4)+2)):e.startsWith("www.")?Le(e):null}function L(e){if(typeof e=="object")return e.pathname+e.search;let t=Kt(e);if(t===1){let r=e.charCodeAt(4)===115?8:7,o=e.startsWith("www.",r)?r+4:r;return e.startsWith(b,o)?ue(e,o):null}if(t===2){let r=e.startsWith("www.",2)?6:2;return e.startsWith(b,r)?ue(e,r):null}return t===3?e.startsWith(b,4)?ue(e,4):null:e.startsWith(b,0)?ue(e,0):null}function it(e){let t=Xt(e);return t.origin=Z,t.hostname=b,t}function p(e,t){if(e instanceof Element){let o=Ae(e);return o.type=t||2,o}let r=a(null);return r.rev=location.pathname+location.search,r.location=it(typeof e=="string"?e:r.rev),r.key=L(r.location),r.type=t||2,r}var Vt=new DOMParser;function k(e){return Vt.parseFromString(e,"text/html")}function Oe(e){let t=e.indexOf(">",e.indexOf("<title"))+1,r=e.indexOf("</title",t);return e.slice(t,r)}var j=a(null),Jr=a(null);function g(e,...t){let r=e==="store";r&&t.splice(-1,1,k(t[t.length-1]));let o=!0;return I(s=>{let i=s.apply(null,t);r?i instanceof Document?o=i.documentElement.outerHTML:typeof o!="string"&&(o=i!==!1):o=i!==!1},j[e]||[]),o}function Ne(e,t){e in j||(j[e]=[]),j[e].push(t)}function $e(e,t){let r=j[e],o=[];if(r&&t){let s=0,i=r.length;for(;s<i;s++)r[s]!==t&&o.push(r[s])}return o.length?j[e]=o:delete j[e],this}function ct(e=[]){let t=ee(e)?e:[e];for(let r in l){let o=t.indexOf(r);o>=0&&(delete E[l[r].uuid],delete l[r],t.splice(o,1))}}function D(e){e?typeof e=="string"?(delete E[l[e].uuid],delete l[e]):ee(e)&&I(t=>{delete l[t],delete E[l[t].uuid]},e):(Re(l),Re(E))}function d(e){return e.replace=u(e,"replace")?[].concat(n.targets,e.replace):n.targets,n.cache&&(u(e,"cache")||(e.cache=n.cache),u(e,"uuid")||(e.uuid=Ge())),u(e,"position")||(e.position=a(null),e.position.y=0,e.position.x=0),n.hover!==!1&&e.type===4&&(u(e,"threshold")||(e.threshold=n.hover.threshold)),n.proximity!==!1&&e.type===6&&(u(e,"proximity")||(e.proximity=n.proximity.distance),u(e,"threshold")||(e.threshold=n.proximity.threshold)),n.progress!==!1&&!u(e,"progress")&&(e.progress=n.progress.threshold),u(e,"visits")||(e.visits=0),l[e.key]=e}function le(e,t){let r=g("store",e,t),o=typeof r=="string"?r:t;return e.type>3&&e.type<7&&(e.type=11),e.title=Oe(o),!n.cache||r===!1||(l[e.key]=e,E[e.uuid]=o,g("cached",e)),e}function M(e,t){let r=u(l,e.key)?l[e.key]:d(e);return typeof t=="string"&&(E[e.uuid]=t,e.title=Oe(t)),P(r,e)}function Me(e=x.state.key){if(u(l,e)){let t=a(null);return t.page=l[e],t.dom=k(E[t.page.uuid]),t}m(4,`No record exists: ${e}`)}function y(e){return u(l,e)&&u(l[e],"uuid")&&u(E,l[e].uuid)}var R=typeof window<"u"?window:{screen:{},navigator:{}},Y=(R.matchMedia||function(){return{matches:!1}}).bind(R),Bt=!1,Yt={get passive(){return Bt=!0}},at=function(){};R.addEventListener&&R.addEventListener("p",at,Yt);R.removeEventListener&&R.removeEventListener("p",at,!1);var N="PointerEvent"in R,Se="ontouchstart"in R,zt="TouchEvent"in R,Gt=Se||zt&&Y("(any-pointer: coarse)").matches,oo=(R.navigator.maxTouchPoints||0)>0||Gt,ft=R.navigator.userAgent||"",Jt=Y("(pointer: coarse)").matches&&/iPad|Macintosh/.test(ft)&&Math.min(R.screen.width||0,R.screen.height||0)>=768,no=(Y("(pointer: coarse)").matches||!Y("(pointer: fine)").matches&&Se)&&!/Windows.*Firefox/.test(ft),so=Y("(any-pointer: fine)").matches||Y("(any-hover: hover)").matches||Jt||!Se;function oe(e,t){if(!(e instanceof Element))return!1;let r=e.closest(t);return r&&r.tagName==="A"?r:!1}function qe(e){if(e.nodeName!=="A")return!1;let t=e.href;return st(t)?!y(L(t)):!1}function ut(e,t){return H(document.body.querySelectorAll(e)).flatMap(r=>r.nodeName!=="A"?H(r.querySelectorAll(t)).filter(qe):qe(r)?r:[])}var ne=e=>H(document.body.querySelectorAll(e)).filter(qe);var se=a(null),F=a(null),q=a(null);function me(e){let t=q[e]=new XMLHttpRequest;return new Promise(function(r,o){t.open("GET",e,n.async),t.setRequestHeader("X-SPX","true"),t.setRequestHeader("X-SPX-Session","true"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.onload=function(){r(t.responseText)},t.onloadend=function(s){w.bytes=w.bytes+s.loaded,w.visits=w.visits+1,delete q[e]},t.onerror=function(){o(this.statusText)},t.onabort=function(){delete q[e]},t.send(null)})}function pe(e,t,r){u(F,e)||y(e)||(F[e]=setTimeout(t,r))}function lt(e){return u(F,e)?(clearTimeout(F[e]),delete F[e]):!0}function He(e){if(u(q,e))for(let t in q)e!==t&&(q[t].abort(),m(2,`Pending fetch aborted: ${t}`))}function mt(e){if(n.preload!==null){if(ee(n.preload))return Promise.all(n.preload.filter(t=>{let r=p(t,7);return r.key!==t?v(d(r)):!1}));if(typeof n.preload=="object"&&u(n.preload,e.key))return Promise.all(n.preload[e.key].map(t=>v(d(p(t,7)))))}}function z(e){if(y(e))return;let t=p(e,8),r=d(t);v(r)}function ke(e){return h(this,null,function*(){if(!u(se,e.key))return Promise.resolve(e);let t=yield se[e.key];return le(e,t)})}function v(e){return u(q,e.key)?(e.type===8?(u(q,e.rev)&&q[e.rev].abort(),m(2,`Reverse fetch aborted: ${e.key}`)):m(2,`Fetch already in transit: ${e.key}`),Promise.resolve(!1)):g("fetch",e)?(se[e.key]=me(e.key),ke(e)):(m(2,`Fetch cancelled within dispatched event: ${e.key}`),Promise.resolve(!1))}function he(e){let t=oe(e.target,n.selectors.hover);t&&(lt(L(t.href)),pt(t))}function G(e){let t=oe(e.target,n.selectors.hover);if(!t)return;let r=p(t,4);if(u(F,r.key))return;if(y(r.key))return de(t);_t(t);let o=d(r),s=o.threshold||n.hover.threshold;pe(r.key,function(){if(!g("prefetch",t,r))return de(t);v(o).then(function(i){return i?de(t):null})},s)}function pt(e){N?e.addEventListener("pointerenter",G,!1):e.addEventListener("mouseenter",G,!1)}function _t(e){N?(e.addEventListener("pointerout",he,!1),e.removeEventListener("pointerenter",G,!1)):(e.addEventListener("mouseleave",he,!1),e.removeEventListener("mouseenter",G,!1))}function de(e){N?(e.removeEventListener("pointerenter",G,!1),e.removeEventListener("pointerout",he,!1)):(e.removeEventListener("mouseleave",he,!1),e.removeEventListener("mouseenter",G,!1))}function ge(){!n.hover||f.hover||(I(pt,ne(n.selectors.hover)),f.hover=!0)}function J(){!f.hover||(I(de,ne(n.selectors.hover)),f.hover=!1)}function Ut({clientX:e,clientY:t},r){return e<=r.right&&e>=r.left&&t<=r.bottom&&t>=r.top}function Qt(e){let t=a(null),r=e.getBoundingClientRect(),o=e.getAttribute(`${n.schema}-proximity`),s=re.test(o)?Number(o):n.proximity.distance;return t.target=e,t.top=r.top-s,t.bottom=r.bottom+s,t.left=r.left-s,t.right=r.right+s,t}function Zt(e){let t=!1;return r=>{if(t)return;t=!0;let o=e.findIndex(s=>Ut(r,s));if(o===-1)setTimeout(()=>{t=!1},n.proximity.throttle);else{let{target:s}=e[o],i=d(p(s,6)),c=i.threshold||n.proximity.threshold;pe(i.key,()=>g("prefetch",s,i)?v(i).then($=>{$&&(e.splice(o,1),t=!1,e.length===0&&(C(),m(1,"Proximity observer disconnected")))}):C(),c)}}}var ie;function ve(){if(!n.proximity||f.proximity)return;let e=ne(n.selectors.proximity).map(Qt);e.length>0&&(ie=Zt(e),N?addEventListener("pointermove",ie,!1):addEventListener("mousemove",ie,!1),f.proximity=!0)}function C(){!f.proximity||(N?removeEventListener("pointermove",ie,!1):removeEventListener("mousemove",ie,!1),f.proximity=!1)}var X;function er(e){return h(this,null,function*(){if(e.isIntersecting){let t=p(e.target,5);if(!g("prefetch",e.target,t))return X.unobserve(e.target);(yield v(d(t)))?X.unobserve(e.target):(m(2,`Prefetch will retry at next intersect for: ${t.key}`),X.observe(e.target))}})}function ye(){if(!n.intersect||f.intersect)return;X||(X=new IntersectionObserver(I(er),n.intersect));let e=I(r=>X.observe(r)),t=ut(n.selectors.intersector,n.selectors.intersects);e(t),f.intersect=!0}function _(){!f.intersect||(X.disconnect(),f.intersect=!1)}var V=null,dt,ce=null,De=[];function Fe(e){let{speed:t,easing:r,minimum:o}=n.progress,s=typeof V=="number";e=gt(e,o,1),V=e===1?null:e;let i=tr(!s);i.offsetWidth,or(c=>{if(i.style.transform=`translate3d(${vt(e)}%,0,0)`,i.style.transition=`all ${t}ms ${r}`,e!==1)return setTimeout(c,t);i.style.transition="none",i.style.opacity="1",i.offsetWidth,setTimeout(()=>{i.style.transition=`all ${t}ms ${r}`,i.style.opacity="0",setTimeout(()=>[rr(),c()],t)},t)})}function ht(e){let t=V;if(!t)return xe();if(t<1)return typeof e!="number"&&(t>=0&&t<.2?e=.1:t>=.2&&t<.5?e=.04:t>=.5&&t<.8?e=.02:t>=.8&&t<.99?e=.005:e=0),t=gt(t+e,0,.994),Fe(t)}function tr(e){if(ce)return ce;document.documentElement.classList.add("spx-load");let t=e?"-100":vt(V||0),r=document.createElement("div");return r.id="spx-progress",r.style.pointerEvents="none",r.style.background=n.progress.background,r.style.height=n.progress.height,r.style.position="fixed",r.style.zIndex="9999",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.transition="all 0 linear",r.style.transform=`translate3d(${t}%,0,0)`,document.body.appendChild(r),ce=r,r}function rr(){document.documentElement.classList.remove("spx-load"),document.getElementById("spx-progress")&&document.body.removeChild(ce),ce=null}function gt(e,t,r){return e<t?t:e>r?r:e}function vt(e){return(-1+e)*100}function or(e){let t=()=>{let r=De.shift();r&&r(t)};De.push(e),De.length===1&&t()}function xe(e){!n.progress||(dt=setTimeout(function(){V||Fe(0);let t=function(){setTimeout(()=>{!V||(ht(),t())},n.progress.trickleSpeed)};n.progress.trickle&&t()},e||0))}function yt(e){if(clearTimeout(dt),!(!e&&!V))return ht(.3+.5*Math.random()),Fe(1)}function nr(e){return new Promise((t,r)=>{let o=document.createElement("script");o.addEventListener("error",r),o.async=!1,o.text=e.target.text;for(let{nodeName:s,nodeValue:i}of e.target.attributes)o.setAttribute(s,i);document.contains(e.target)?e.target.replaceWith(o):(document.head.append(o),e.external?o.addEventListener("load",()=>o.remove()):o.remove()),e.external?o.addEventListener("load",()=>t()):t()})}function sr(e){if(!e.hasAttribute("src")&&!e.text)return;let t=e.type?e.type.trim().toLowerCase():"text/javascript",r=Qe.test(t)?1:t==="module"?2:NaN,o=a(null);return o.blocking=!0,o.evaluate=!1,o.external=!1,isNaN(r)||e.noModule&&r===1||(e.src&&(o.external=!0),(r!==1||o.external&&(e.hasAttribute("async")||e.defer))&&(o.blocking=!1),o.evaluate=!0,o.target=e),o}function Et(e){return h(this,null,function*(){try{let t=nr(e);e.blocking&&(yield t)}catch(t){console.error(t)}})}function bt(e){return h(this,null,function*(){let r=H(e,sr).filter(o=>o.evaluate).reduce((o,s)=>h(this,null,function*(){return s.external?Promise.all([o,Et(s)]):(yield o,yield Et(s))}),Promise.resolve());yield Promise.race([r])})}var U=a(null),Ke=!1;function ae(){return U}function ir(){U.y=window.scrollY,U.x=window.scrollX,Ke||(requestAnimationFrame(ae),Ke=!0)}function fe(){return Ke=!1,U.x=0,U.y=0,U}function Pt(){f.scroll||(addEventListener("scroll",ir,{passive:!0}),f.scroll=!0)}function It(){!f.scroll||(removeEventListener("scroll",onscroll,!1),fe(),f.scroll=!1)}function cr(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING||-1}function ar(e){return h(this,null,function*(){let t=H(e.querySelectorAll(n.selectors.scripts));t.sort(cr),yield bt(t)})}function fr(e){e.querySelectorAll(n.selectors.tracking).forEach(t=>{!t.hasAttribute("id")||Pe.has(t.id)||(document.body.appendChild(t),Pe.add(t.id))})}function ur(e,t){let r=e.replace;if(r.length===1&&r[0]==="body")return document.body.replaceWith(t.body);let o=r.join(","),s=document.body.querySelectorAll(o),i=t.body.querySelectorAll(o);s.forEach((c,$)=>{if(!!c.matches(r[$])&&!!g("render",c,i[$])&&(c.replaceWith(i[$]),e.append||e.prepend)){let T=document.createElement("div");return t.childNodes.forEach(T.appendChild),e.append?c.appendChild(T):c.insertBefore(T,c.firstChild)}}),fr(t.body)}function lr(e,t){let r=e.hydrate.join(","),o=document.body.querySelectorAll(r);if(o.length>0){let s=t.body.querySelectorAll(r);o.forEach((i,c)=>{!s[c]||!g("hydrate",i,s[c])||(i.firstChild.nodeType===Node.TEXT_NODE?i.innerHTML=s[c].innerHTML:i.replaceWith(s[c]))})}e.type=2,M(e),ct(e.key)}function A(e){J(),_(),C();let t=k(E[e.uuid]);return e.type===3?lr(e,t):(ur(e,t),scrollTo(e.position.x,e.position.y)),ar(t.head),yt(),fe(),ge(),ye(),ve(),g("load",e),e}function wt(e){let t=a(null);return t.key=e.key,t.rev=e.rev,t.title=e.title,t.uuid=e.uuid,t.cache=e.cache,t.replace=e.replace,t.type=e.type,t.progress=e.progress,t.position=fe(),t}function Ve(){return document.readyState==="complete"}function Tt(){return x.state!==null&&u(x.state,"rev")&&x.state.key!==x.state.rev}function Lt(e){return x.replaceState(wt(e),e.title,e.key),e}function At(e){return x.pushState(wt(e),e.title,e.key),e}var Rt;function Ot(e,t){if(!!Ve()){if(clearInterval(Rt),y(e.state.key))return z(e.state.rev),A(l[e.state.key]);Rt=setTimeout(function(){return h(this,null,function*(){e.state.type=9;let r=yield v(e.state);if(!r)return location.assign(e.state.key);let o=L(location);if(r.key===o)return A(r);if(y(o))return A(l[o]);let s=d(p(o,9));v(s),x.pushState(s,document.title,o)})},300)}}function Nt(){f.history||(addEventListener("popstate",Ot,!1),addEventListener("load",Ve,!1),f.history=!0)}function $t(){!f.history||(removeEventListener("popstate",Ot,!1),addEventListener("load",Ve,!1),f.history=!1)}function mr(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}function Q(e){if(!mr(e))return;let t=oe(e.target,n.selectors.hrefs);if(!t)return;let r=L(t.href);if(r!==null&&(J(),C(),_(),!!g("visit",e)))if(u(se,r)){let o=l[r];He(r),t.addEventListener("click",function s(i){return i.preventDefault(),t.removeEventListener("click",s,!1),Be(o)},!1)}else if(y(r)){let o=Ae(t,l[r]),s=M(o);t.addEventListener("click",function i(c){return c.preventDefault(),t.removeEventListener("click",i,!1),A(s)},!1)}else{He();let o=p(t,2),s=d(o);v(s),t.addEventListener("click",function i(c){return c.preventDefault(),t.removeEventListener("click",i,!1),Be(s)},!1)}}function Be(e){xe(e.progress),ke(e).then(function(t){t?(At(t),A(t)):location.assign(e.key)}).catch(function(t){location.assign(e.key),m(4,t)})}function Ye(e,t){if(t)typeof t.cache=="string"&&(t.cache==="clear"?D():D(t.key)),xe(t.progress),v(t).then(function(r){return r?A(r):location.assign(t.key)});else return Be(l[e])}function St(){f.hrefs||(N?addEventListener("pointerdown",Q,!1):(addEventListener("mousedown",Q,!1),addEventListener("touchstart",Q,!1)),f.hrefs=!0)}function qt(){!f.hrefs||(N?removeEventListener("pointerdown",Q,!1):(removeEventListener("mousedown",Q,!1),removeEventListener("touchstart",Q,!1)),f.hrefs=!1)}function kt(){let e=d(p(1)),t=le(e,document.documentElement.outerHTML);Tt()&&(t.rev=x.state.rev),t.position=ae(),g("connected",t),Lt(t),z(t.rev),mt(t),removeEventListener("load",kt)}function Ct(){Pt(),Nt(),St(),ge(),ye(),ve(),addEventListener("load",kt),m(1,"Connection Established \u26A1")}function Wt(){It(),$t(),qt(),J(),_(),C(),D(),m(1,"Disconnected \u{1F614}")}var jt=!!(x.pushState&&window.requestAnimationFrame&&window.addEventListener&&window.DOMParser);function dr(e={}){we(e),jt?/https?/.test(window.location.protocol)?addEventListener("DOMContentLoaded",Ct):m(4,"Invalid protocol, SPX expects https or http protocol"):m(4,"Browser is not supported")}function hr(e,t){if(e)if(t)e==="config"&&we(t),e==="observers"&&P(f,t);else{if(e==="config")return n;if(e==="observers")return f;if(e==="pages")return l;if(e==="snapshots")return E;if(e==="memory")return Ie(w.bytes)}let r=a(null);return r.config=n,r.snapshots=E,r.pages=l,r.observers=f,r.memory=w,r.memory.size=Ie(r.memory.bytes),r}function gr(e,t){return h(this,null,function*(){if(e===void 0)return Me();if(typeof e=="string"){let r=L(e);y(r)||m(4,`No store exists at: ${r}`);let o=Me(r);return t!==void 0?M(P(o.page,t)):o}if(typeof e=="object")return M(e)})}function vr(e){return h(this,null,function*(){let t=l[x.state.key];e&&P(t,e),t.type=10;let r=yield v(t);return r?(m(1,"Triggered reload, page was re-cached"),A(r)):(m(2,"Reload failed, triggering refresh (cache will be purged)"),location.assign(t.key))})}function yr(e){return h(this,null,function*(){let t=p(e,13);t.location.origin!==Z&&m(4,"Cross origin fetches are not allowed");let r=yield me(t.key);if(r)return k(r)})}function xr(e){return D(e)}function Rn(e){return h(this,null,function*(){})}function Er(e,t){return h(this,null,function*(){let r=p(3);r.position=ae(),r.hydrate=t;let o=yield me(e);if(!o)return m(2,"Hydration fetch failed");let s=y(r.key)?M(r,o):d(r);return z(r.rev),A(s)})}function br(e){return h(this,null,function*(){let t=p(e,11);if(y(t.key)){m(2,`Cache already exists for ${t.key}, prefetch skipped`);return}let r=yield v(d(t));if(r)return r;m(4,`Prefetch failed for ${t.key}`)})}function Pr(e,t){return h(this,null,function*(){let r=p(e),o=typeof t=="object"?P(r,t):r;return y(r.key)?Ye(r.key,M(o)):Ye(r.key,d(o))})}function Ir(){Wt()}var wn={supported:jt,on:Ne,off:$e,connect:dr,session:hr,state:gr,reload:vr,fetch:yr,clear:xr,hydrate:Er,prefetch:br,visit:Pr,disconnect:Ir};export{xr as clear,dr as connect,wn as default,Ir as disconnect,yr as fetch,Er as hydrate,$e as off,Ne as on,br as prefetch,vr as reload,hr as session,gr as state,jt as supported,Rn as update,Pr as visit};
